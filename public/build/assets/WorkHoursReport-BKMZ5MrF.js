import{r as i,j as e,S as at,A as F,x as ot}from"./app-Ddwxqofy.js";import{D as $e,t as Fe,u as X,w as it}from"./helpers-Dp5ZdZBx.js";import{A as nt}from"./AuthenticatedLayout-CTZTZuFJ.js";import{A as dt}from"./AnimatedBackground-BBU1OLY5.js";import{T as ct}from"./Pagination-tcYV80e_.js";import"./ApplicationLogo-3LeIIhXn.js";import"./Avatar-DJTmNILM.js";import"./transition-CkLA98mN.js";function xt({message:h,onClose:r}){return h?e.jsxs("div",{className:"fixed top-5 right-5 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center backdrop-blur-xl border border-white/20",children:[e.jsx("span",{className:"font-medium",children:h}),e.jsx("button",{onClick:r,className:"ml-4 text-white hover:text-blue-200 font-bold text-lg transition-colors",children:"×"})]}):null}function Y({currentPage:h,totalPages:r,onPageChange:N}){return r<=1?null:e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/10",children:[e.jsx("button",{onClick:()=>N(Math.max(1,h-1)),disabled:h===1,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"← Prev"}),e.jsxs("span",{className:"text-xs text-white/70",children:["Page ",h," of ",r]}),e.jsx("button",{onClick:()=>N(Math.min(r,h+1)),disabled:h===r,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Next →"})]})}const G=h=>{const r=new Date;let N,k;if(h==="today")N=k=r.toISOString().slice(0,10);else if(h==="week"){const L=r.getDate()-r.getDay();N=new Date(r.setDate(L)).toISOString().slice(0,10),k=new Date().toISOString().slice(0,10)}else h==="month"&&(N=new Date(r.getFullYear(),r.getMonth(),1).toISOString().slice(0,10),k=new Date().toISOString().slice(0,10));return{start:N,end:k}};function jt({auth:h,workHours:r,users:N=[],flash:k,filter:L="all",startDate:J="",endDate:K="",workType:Le="all",userId:Ie="all",designation:Me="all",tracker:We="all",project:Ue="all",client:_e="all",perPage:Oe=15}){var Ce,Se,De,Pe;const[I,P]=i.useState(null),[Ee,C]=i.useState((k==null?void 0:k.success)||""),[a,Q]=i.useState(L),[n,Z]=i.useState(Le),[c,H]=i.useState(Ie),[p,ee]=i.useState(Me),[b,te]=i.useState(We),[x,le]=i.useState(Ue),[u,re]=i.useState(_e),[w,se]=i.useState(J?new Date(J):null),[f,ae]=i.useState(K?new Date(K):null),[M,oe]=i.useState(""),[T,Re]=i.useState(!1),[ie,ne]=i.useState(""),[de,ce]=i.useState(""),[W,xe]=i.useState(""),[U,he]=i.useState(""),[_,Be]=i.useState(Oe),[O,pe]=i.useState(!1),[ue,me]=i.useState(1),[be,ge]=i.useState(1),[we,fe]=i.useState(1),D=10,E=t=>({tracker:"Tracker",manual:"Manual Time",test_task:"Test Task",fixed:"Fixed Project",office_work:"Office Work",outside_of_upwork:"Outside of Upwork"})[t]||t,ze=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(o=>{var s;return(s=o.user)==null?void 0:s.designation}).filter(Boolean))||[])].sort()},qe=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(o=>o.tracker).filter(Boolean))||[])].sort()},Ve=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(o=>{var s;return(s=o.project)==null?void 0:s.name}).filter(Boolean))||[])].sort()},Xe=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(o=>{var s,m;return(m=(s=o.project)==null?void 0:s.client)==null?void 0:m.name}).filter(Boolean))||[])].sort()},Ye=t=>{if(!t&&t!==0)return"";const l=Math.round(Number(t)*3600),o=Math.floor(l/3600),s=Math.floor(l%3600/60),m=l%60;return[o,s,m].map(v=>String(v).padStart(2,"0")).join(":")},Ge=async()=>{if(!O){pe(!0),C("Preparing export data...");try{const t={filter:a};if(a==="custom")w&&f&&(t.startDate=w.toISOString().slice(0,10),t.endDate=f.toISOString().slice(0,10));else if(a!=="all"){const{start:g,end:$}=G(a);t.startDate=g,t.endDate=$}n&&n!=="all"&&(t.workType=n),c&&c!=="all"&&(t.userId=c),p&&p!=="all"&&(t.designation=p),b&&b!=="all"&&(t.tracker=b),x&&x!=="all"&&(t.project=x),u&&u!=="all"&&(t.client=u);const l=new URLSearchParams(t).toString(),o=`${route("work-hours.export")}?${l}`,s=await fetch(o,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!s.ok)throw new Error("Failed to fetch export data");const y=(await s.json()).data.map(g=>{var $,Te,Ae;return{User:g.user.name,Designation:g.user.designation||"N/A","Work Type":E(g.work_type),Tracker:g.tracker,Date:g.date,Project:(($=g.project)==null?void 0:$.name)||"No Project",Client:((Ae=(Te=g.project)==null?void 0:Te.client)==null?void 0:Ae.name)||"No Client",Hours:Ye(g.hours),Description:g.description}}),d=X.json_to_sheet(y),A=X.book_new();X.book_append_sheet(A,d,"WorkHours"),it(A,"work_hours_report.csv",{bookType:"csv"}),C(`Successfully exported ${y.length} entries to CSV`)}catch(t){console.error("Export error:",t),C("Failed to export data. Please try again.")}finally{pe(!1)}}},Je=t=>{P(t)},Ke=()=>{I&&F.delete(route("work-hours.destroy",I),{onSuccess:()=>{C("Entry deleted successfully."),P(null)},onError:()=>{C("Failed to delete entry."),P(null)}})},Qe=()=>C(""),je=t=>{H(t),oe(""),j(a,n,t)},R=N.filter(t=>t.name.toLowerCase().includes(M.toLowerCase())),B=(t,l,o)=>{const s=(l-1)*o,m=s+o;return t.slice(s,m)},z=(t,l)=>Math.ceil(t/l),Ze=B(R,ue,D),He=z(R.length,D),q=Ve().filter(t=>t.toLowerCase().includes(W.toLowerCase())),et=B(q,be,D),tt=z(q.length,D),V=Xe().filter(t=>t.toLowerCase().includes(U.toLowerCase())),lt=B(V,we,D),rt=z(V.length,D),j=(t,l=n,o=c,s=p,m=b,v=x,y=u)=>{Q(t);const d={filter:t,perPage:_};if(t==="custom")w&&f&&(d.startDate=w.toISOString().slice(0,10),d.endDate=f.toISOString().slice(0,10));else if(t!=="all"){const{start:A,end:g}=G(t);d.startDate=A,d.endDate=g}l&&l!=="all"&&(d.workType=l),o&&o!=="all"&&(d.userId=o),s&&s!=="all"&&(d.designation=s),m&&m!=="all"&&(d.tracker=m),v&&v!=="all"&&(d.project=v),y&&y!=="all"&&(d.client=y),F.get(route("work-hours.report"),d,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},S=t=>{Z(t),j(a,t)},Ne=t=>{ee(t),ne(""),j(a,n,c,t)},ve=t=>{te(t),ce(""),j(a,n,c,p,t)},ye=t=>{le(t),xe(""),j(a,n,c,p,b,t)},ke=t=>{re(t),he(""),j(a,n,c,p,b,x,t)},st=t=>{Be(t);const l={filter:a,perPage:t};if(a==="custom"&&w&&f)l.startDate=w.toISOString().slice(0,10),l.endDate=f.toISOString().slice(0,10);else if(a!=="all"){const{start:o,end:s}=G(a);l.startDate=o,l.endDate=s}n!=="all"&&(l.workType=n),c!=="all"&&(l.userId=c),p!=="all"&&(l.designation=p),b!=="all"&&(l.tracker=b),x!=="all"&&(l.project=x),u!=="all"&&(l.client=u),F.get(route("work-hours.report"),l,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})};return e.jsxs(nt,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-white leading-tight",children:"Work Hours Report"}),children:[e.jsx(at,{title:"Work Hours Report"}),e.jsx(dt,{}),e.jsx("div",{id:"date-picker-portal"}),e.jsx(xt,{message:Ee,onClose:Qe}),I&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Confirm Delete"}),e.jsx("p",{className:"mb-6 text-gray-200",children:"Are you sure you want to delete this entry?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>P(null),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all backdrop-blur-xl border border-white/20",children:"Cancel"}),e.jsx("button",{onClick:Ke,className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-medium transition-all shadow-lg",children:"Delete"})]})]})}),e.jsx("div",{className:"py-12 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-xl shadow-2xl sm:rounded-2xl border border-white/20",children:e.jsxs("div",{className:"p-8 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Work Hours Report"}),e.jsx("p",{className:"text-gray-300 mt-2",children:"Comprehensive analysis of work hours and productivity"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Show:"}),e.jsxs("select",{value:_,onChange:t=>st(parseInt(t.target.value)),className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white text-sm",children:[e.jsx("option",{value:15,className:"bg-slate-800 text-white",children:"15"}),e.jsx("option",{value:25,className:"bg-slate-800 text-white",children:"25"}),e.jsx("option",{value:50,className:"bg-slate-800 text-white",children:"50"}),e.jsx("option",{value:100,className:"bg-slate-800 text-white",children:"100"})]}),e.jsx("span",{className:"text-white/70 text-sm",children:"entries"})]}),e.jsx("button",{onClick:Ge,disabled:O,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:from-gray-500 disabled:to-gray-600 disabled:cursor-not-allowed text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl",children:O?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to CSV"]})})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Date Range"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>j("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Dates"}),e.jsx("button",{onClick:()=>j("today"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="today"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Today"}),e.jsx("button",{onClick:()=>j("week"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="week"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Week"}),e.jsx("button",{onClick:()=>j("month"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="month"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Month"}),e.jsx("button",{onClick:()=>j("custom"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="custom"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Custom Range"})]}),a==="custom"&&e.jsxs("div",{className:"flex gap-3 items-center mt-4 p-3 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[e.jsx("span",{className:"text-white font-medium",children:"From:"}),e.jsx($e,{selected:w,onChange:t=>se(t),dateFormat:"yyyy-MM-dd",maxDate:f||new Date,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",calendarClassName:"bg-slate-800 border border-white/20 rounded-xl shadow-2xl",dayClassName:t=>"text-white hover:bg-blue-500/50 hover:text-white rounded-lg transition-colors",weekDayClassName:t=>"text-gray-300 text-sm font-medium",monthClassName:t=>"text-white hover:bg-blue-500/50 rounded-lg transition-colors",timeClassName:t=>"text-white",popperClassName:"z-50",popperPlacement:"bottom-start",showPopperArrow:!1,placeholderText:"Select start date",isClearable:!0,withPortal:!0,portalId:"date-picker-portal"}),e.jsx("span",{className:"text-white font-medium",children:"To:"}),e.jsx($e,{selected:f,onChange:t=>ae(t),dateFormat:"yyyy-MM-dd",minDate:w||void 0,maxDate:new Date,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",calendarClassName:"bg-slate-800 border border-white/20 rounded-xl shadow-2xl",dayClassName:t=>"text-white hover:bg-blue-500/50 hover:text-white rounded-lg transition-colors",weekDayClassName:t=>"text-gray-300 text-sm font-medium",monthClassName:t=>"text-white hover:bg-blue-500/50 rounded-lg transition-colors",timeClassName:t=>"text-white",popperClassName:"z-50",popperPlacement:"bottom-start",showPopperArrow:!1,placeholderText:"Select end date",isClearable:!0,withPortal:!0,portalId:"date-picker-portal"}),e.jsx("button",{onClick:()=>j("custom"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-600 transition-all disabled:opacity-50",disabled:!w||!f,children:"Apply"})]})]}),(a!=="all"||n!=="all"||c!=="all"||p!=="all"||b!=="all"||x!=="all"||u!=="all")&&e.jsxs("div",{className:"lg:col-span-1 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Active Filters"}),e.jsxs("button",{onClick:()=>{Q("all"),Z("all"),H("all"),ee("all"),te("all"),le("all"),re("all"),se(null),ae(null),F.get(route("work-hours.report"),{perPage:_},{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-red-500/80 to-red-600/80 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-medium transition-all text-xs backdrop-blur-xl",title:"Clear all filters",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All"]})]}),e.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[a!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Date:"}),e.jsx("span",{children:a==="custom"?`${w==null?void 0:w.toLocaleDateString()} - ${f==null?void 0:f.toLocaleDateString()}`:a})]}),n!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-purple-500/20 text-purple-300 rounded-lg backdrop-blur-xl border border-purple-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Type:"}),e.jsx("span",{children:E(n)})]}),c!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-green-500/20 text-green-300 rounded-lg backdrop-blur-xl border border-green-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"User:"}),e.jsx("span",{children:((Ce=N.find(t=>t.id==c))==null?void 0:Ce.name)||"Unknown"})]}),p!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-indigo-500/20 text-indigo-300 rounded-lg backdrop-blur-xl border border-indigo-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Role:"}),e.jsx("span",{children:p})]}),b!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg backdrop-blur-xl border border-yellow-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Tracker:"}),e.jsx("span",{children:b})]}),x!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-pink-500/20 text-pink-300 rounded-lg backdrop-blur-xl border border-pink-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Project:"}),e.jsx("span",{title:x,children:x.length>12?`${x.substring(0,12)}...`:x})]}),u!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-teal-500/20 text-teal-300 rounded-lg backdrop-blur-xl border border-teal-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Client:"}),e.jsx("span",{title:u,children:u.length>12?`${u.substring(0,12)}...`:u})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>Re(!T),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl",children:[e.jsx("svg",{className:`w-5 h-5 mr-2 transition-transform ${T?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),T?"Hide Advanced Filters":"Show Advanced Filters"]})}),T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Work Type"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>S("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Types"}),e.jsx("button",{onClick:()=>S("tracker"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="tracker"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Tracker"}),e.jsx("button",{onClick:()=>S("manual"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="manual"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Manual Time"}),e.jsx("button",{onClick:()=>S("test_task"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="test_task"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Test Task"}),e.jsx("button",{onClick:()=>S("fixed"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="fixed"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Fixed Project"}),e.jsx("button",{onClick:()=>S("office_work"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="office_work"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Office Work"}),e.jsx("button",{onClick:()=>S("outside_of_upwork"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="outside_of_upwork"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Outside of Upwork"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by User"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:M,onChange:t=>{oe(t.target.value),me(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>je("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${c==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Users"}),Ze.map(t=>e.jsx("button",{onClick:()=>je(t.id),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${c==t.id?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t.name,children:t.name},t.id)),R.length===0&&M&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No users found"})]}),e.jsx(Y,{currentPage:ue,totalPages:He,onPageChange:me})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Designation"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search designations...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:ie,onChange:t=>ne(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>Ne("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${p==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Designations"}),ze().filter(t=>t.toLowerCase().includes(ie.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>Ne(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${p===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Tracker"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search trackers...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:de,onChange:t=>ce(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ve("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${b==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Trackers"}),qe().filter(t=>t.toLowerCase().includes(de.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>ve(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm capitalize ${b===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Project"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search projects...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:W,onChange:t=>{xe(t.target.value),ge(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ye("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${x==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Projects"}),et.map(t=>e.jsx("button",{onClick:()=>ye(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${x===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t)),q.length===0&&W&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No projects found"})]}),e.jsx(Y,{currentPage:be,totalPages:tt,onPageChange:ge})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Client"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search clients...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:U,onChange:t=>{he(t.target.value),fe(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ke("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${u==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Clients"}),lt.map(t=>e.jsx("button",{onClick:()=>ke(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${u===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t)),V.length===0&&U&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No clients found"})]}),e.jsx(Y,{currentPage:we,totalPages:rt,onPageChange:fe})]})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto shadow-2xl ring-1 ring-white/20 rounded-2xl",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/20 table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Designation"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Work Type"}),e.jsx("th",{className:"w-24 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Tracker"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"w-36 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"w-20 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Hours"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider sticky right-0 bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl border-l border-white/10",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white/5 divide-y divide-white/10 backdrop-blur-xl",children:(Se=r==null?void 0:r.data)!=null&&Se.length?r.data.map((t,l)=>{var o,s,m,v,y,d;return e.jsxs("tr",{className:`${l%2===0?"bg-white/5":"bg-white/10"} hover:bg-white/20 transition-colors backdrop-blur-xl`,children:[e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate font-medium",children:t.user.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 truncate",children:t.user.designation||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20",children:E(t.work_type)})}),e.jsx("td",{className:"px-6 py-4 text-sm text-white capitalize truncate font-medium",children:t.tracker}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:t.date}),e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate font-medium",title:((o=t.project)==null?void 0:o.name)||"No Project",children:((s=t.project)==null?void 0:s.name)||"No Project"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 truncate",title:((v=(m=t.project)==null?void 0:m.client)==null?void 0:v.name)||"No Client",children:((d=(y=t.project)==null?void 0:y.client)==null?void 0:d.name)||"No Client"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-400",children:Fe(t.hours)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 relative group",children:e.jsx("div",{className:"max-w-xs truncate",children:t.description&&t.description.length>50?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"truncate block",children:[t.description.substring(0,50),"..."]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.description),C("Description copied to clipboard!")},className:"mt-1 text-xs bg-white/10 hover:bg-white/20 text-white/80 px-2 py-1 rounded transition-all",title:"Copy full description",children:"Copy Full Text"})]}):e.jsx("span",{className:"block",children:t.description})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10 shadow-lg",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(ot,{href:route("work-hours.edit",t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Edit"}),e.jsx("button",{onClick:()=>Je(t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Delete"})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-8 text-center text-white/60",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-white/40 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No work hour entries found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or date range"})]})})})}),e.jsx("tfoot",{className:"bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-t border-white/20",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,className:"px-6 py-4"}),e.jsxs("td",{className:"px-6 py-4 font-bold text-right text-blue-300 text-lg",children:["Total: ",Fe(((De=r==null?void 0:r.data)==null?void 0:De.reduce((t,l)=>t+Number(l.hours||0),0).toFixed(2))||0)]}),e.jsx("td",{className:"px-6 py-4"}),e.jsx("td",{className:"w-32 px-6 py-4 sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10"})]})})]})}),((Pe=r==null?void 0:r.data)==null?void 0:Pe.length)>0&&e.jsx("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:e.jsx(ct,{pagination:r,className:"justify-between items-center",preserveState:!0,preserveScroll:!1})})]})})})})]})}export{jt as default};
