import{r as o,j as e,S as et,A as P,x as tt}from"./app-DhjCwpSO.js";import{D as ye,t as ke,u as z,w as lt}from"./helpers-B6BW_ZeH.js";import{A as rt}from"./AuthenticatedLayout-CQWjtyIl.js";import{A as st}from"./AnimatedBackground-BLZACwjf.js";import{T as at}from"./Pagination-D_NsQ--X.js";import"./index-CWMeW6ZE.js";import"./ApplicationLogo-oC_6CxNt.js";import"./Avatar-BGRJeA3U.js";import"./transition-BG1SUKoD.js";function it({message:x,onClose:r}){return x?e.jsxs("div",{className:"fixed top-5 right-5 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center backdrop-blur-xl border border-white/20",children:[e.jsx("span",{className:"font-medium",children:x}),e.jsx("button",{onClick:r,className:"ml-4 text-white hover:text-blue-200 font-bold text-lg transition-colors",children:"×"})]}):null}function E({currentPage:x,totalPages:r,onPageChange:w}){return r<=1?null:e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/10",children:[e.jsx("button",{onClick:()=>w(Math.max(1,x-1)),disabled:x===1,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"← Prev"}),e.jsxs("span",{className:"text-xs text-white/70",children:["Page ",x," of ",r]}),e.jsx("button",{onClick:()=>w(Math.min(r,x+1)),disabled:x===r,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Next →"})]})}const Ce=x=>{const r=new Date;let w,y;if(x==="today")w=y=r.toISOString().slice(0,10);else if(x==="week"){const A=r.getDate()-r.getDay();w=new Date(r.setDate(A)).toISOString().slice(0,10),y=new Date().toISOString().slice(0,10)}else x==="month"&&(w=new Date(r.getFullYear(),r.getMonth(),1).toISOString().slice(0,10),y=new Date().toISOString().slice(0,10));return{start:w,end:y}};function bt({auth:x,workHours:r,users:w=[],flash:y,filter:A="all",startDate:V="",endDate:q="",workType:Se="all",userId:De="all",designation:Te="all",tracker:Pe="all",project:Ae="all",client:$e="all",perPage:Fe=15}){var fe,je,Ne,ve;const[$,S]=o.useState(null),[Le,D]=o.useState((y==null?void 0:y.success)||""),[n,Y]=o.useState(A),[d,G]=o.useState(Se),[h,J]=o.useState(De),[u,K]=o.useState(Te),[f,Q]=o.useState(Pe),[p,X]=o.useState(Ae),[b,Z]=o.useState($e),[j,H]=o.useState(V?new Date(V):null),[N,ee]=o.useState(q?new Date(q):null),[F,te]=o.useState(""),[T,Me]=o.useState(!1),[le,re]=o.useState(""),[se,ae]=o.useState(""),[L,ie]=o.useState(""),[M,oe]=o.useState(""),[_,_e]=o.useState(Fe),[ne,de]=o.useState(1),[ce,xe]=o.useState(1),[he,pe]=o.useState(1),C=10,U=t=>({tracker:"Tracker",manual:"Manual Time",test_task:"Test Task",fixed:"Fixed Project",office_work:"Office Work",outside_of_upwork:"Outside of Upwork"})[t]||t,Ue=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(a=>{var s;return(s=a.user)==null?void 0:s.designation}).filter(Boolean))||[])].sort()},We=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(a=>a.tracker).filter(Boolean))||[])].sort()},Ie=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(a=>{var s;return(s=a.project)==null?void 0:s.name}).filter(Boolean))||[])].sort()},Oe=()=>{var l;return[...new Set(((l=r==null?void 0:r.data)==null?void 0:l.map(a=>{var s,i;return(i=(s=a.project)==null?void 0:s.client)==null?void 0:i.name}).filter(Boolean))||[])].sort()},Be=t=>{if(!t&&t!==0)return"";const l=Math.round(Number(t)*3600),a=Math.floor(l/3600),s=Math.floor(l%3600/60),i=l%60;return[a,s,i].map(g=>String(g).padStart(2,"0")).join(":")},Re=()=>{var s;const t=((s=r==null?void 0:r.data)==null?void 0:s.map(i=>{var g,v,c;return{User:i.user.name,Designation:i.user.designation||"N/A","Work Type":U(i.work_type),Tracker:i.tracker,Date:i.date,Project:((g=i.project)==null?void 0:g.name)||"No Project",Client:((c=(v=i.project)==null?void 0:v.client)==null?void 0:c.name)||"No Client",Hours:Be(i.hours),Description:i.description}}))||[],l=z.json_to_sheet(t),a=z.book_new();z.book_append_sheet(a,l,"WorkHours"),lt(a,"work_hours_report.csv",{bookType:"csv"})},ze=t=>{S(t)},Ee=()=>{$&&P.delete(route("work-hours.destroy",$),{onSuccess:()=>{D("Entry deleted successfully."),S(null)},onError:()=>{D("Failed to delete entry."),S(null)}})},Ve=()=>D(""),me=t=>{J(t),te(""),m(n,d,t)},W=w.filter(t=>t.name.toLowerCase().includes(F.toLowerCase())),I=(t,l,a)=>{const s=(l-1)*a,i=s+a;return t.slice(s,i)},O=(t,l)=>Math.ceil(t/l),qe=I(W,ne,C),Ye=O(W.length,C),B=Ie().filter(t=>t.toLowerCase().includes(L.toLowerCase())),Ge=I(B,ce,C),Je=O(B.length,C),R=Oe().filter(t=>t.toLowerCase().includes(M.toLowerCase())),Ke=I(R,he,C),Qe=O(R.length,C),m=(t,l=d,a=h,s=u,i=f,g=p,v=b)=>{Y(t);const c={filter:t,perPage:_};if(t==="custom")j&&N&&(c.startDate=j.toISOString().slice(0,10),c.endDate=N.toISOString().slice(0,10));else if(t!=="all"){const{start:Ze,end:He}=Ce(t);c.startDate=Ze,c.endDate=He}l&&l!=="all"&&(c.workType=l),a&&a!=="all"&&(c.userId=a),s&&s!=="all"&&(c.designation=s),i&&i!=="all"&&(c.tracker=i),g&&g!=="all"&&(c.project=g),v&&v!=="all"&&(c.client=v),P.get(route("work-hours.report"),c,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},k=t=>{G(t),m(n,t)},ue=t=>{K(t),re(""),m(n,d,h,t)},be=t=>{Q(t),ae(""),m(n,d,h,u,t)},ge=t=>{X(t),ie(""),m(n,d,h,u,f,t)},we=t=>{Z(t),oe(""),m(n,d,h,u,f,p,t)},Xe=t=>{_e(t);const l={filter:n,perPage:t};if(n==="custom"&&j&&N)l.startDate=j.toISOString().slice(0,10),l.endDate=N.toISOString().slice(0,10);else if(n!=="all"){const{start:a,end:s}=Ce(n);l.startDate=a,l.endDate=s}d!=="all"&&(l.workType=d),h!=="all"&&(l.userId=h),u!=="all"&&(l.designation=u),f!=="all"&&(l.tracker=f),p!=="all"&&(l.project=p),b!=="all"&&(l.client=b),P.get(route("work-hours.report"),l,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})};return e.jsxs(rt,{user:x.user,header:e.jsx("h2",{className:"font-semibold text-xl text-white leading-tight",children:"Work Hours Report"}),children:[e.jsx(et,{title:"Work Hours Report"}),e.jsx(st,{}),e.jsx(it,{message:Le,onClose:Ve}),$&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Confirm Delete"}),e.jsx("p",{className:"mb-6 text-gray-200",children:"Are you sure you want to delete this entry?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>S(null),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all backdrop-blur-xl border border-white/20",children:"Cancel"}),e.jsx("button",{onClick:Ee,className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-medium transition-all shadow-lg",children:"Delete"})]})]})}),e.jsx("div",{className:"py-12 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-xl shadow-2xl sm:rounded-2xl border border-white/20",children:e.jsxs("div",{className:"p-8 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Work Hours Report"}),e.jsx("p",{className:"text-gray-300 mt-2",children:"Comprehensive analysis of work hours and productivity"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Show:"}),e.jsxs("select",{value:_,onChange:t=>Xe(parseInt(t.target.value)),className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white text-sm",children:[e.jsx("option",{value:15,className:"bg-slate-800 text-white",children:"15"}),e.jsx("option",{value:25,className:"bg-slate-800 text-white",children:"25"}),e.jsx("option",{value:50,className:"bg-slate-800 text-white",children:"50"}),e.jsx("option",{value:100,className:"bg-slate-800 text-white",children:"100"})]}),e.jsx("span",{className:"text-white/70 text-sm",children:"entries"})]}),e.jsxs("button",{onClick:Re,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to CSV"]})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Date Range"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Dates"}),e.jsx("button",{onClick:()=>m("today"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="today"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Today"}),e.jsx("button",{onClick:()=>m("week"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="week"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Week"}),e.jsx("button",{onClick:()=>m("month"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="month"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Month"}),e.jsx("button",{onClick:()=>m("custom"),className:`px-4 py-2 rounded-xl font-medium transition-all ${n==="custom"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Custom Range"})]}),n==="custom"&&e.jsxs("div",{className:"flex gap-3 items-center mt-4 p-3 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[e.jsx("span",{className:"text-white font-medium",children:"From:"}),e.jsx(ye,{selected:j,onChange:t=>H(t),dateFormat:"yyyy-MM-dd",maxDate:N||void 0,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"To:"}),e.jsx(ye,{selected:N,onChange:t=>ee(t),dateFormat:"yyyy-MM-dd",minDate:j||void 0,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300"}),e.jsx("button",{onClick:()=>m("custom"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-600 transition-all disabled:opacity-50",disabled:!j||!N,children:"Apply"})]})]}),(n!=="all"||d!=="all"||h!=="all"||u!=="all"||f!=="all"||p!=="all"||b!=="all")&&e.jsxs("div",{className:"lg:col-span-1 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Active Filters"}),e.jsxs("button",{onClick:()=>{Y("all"),G("all"),J("all"),K("all"),Q("all"),X("all"),Z("all"),H(null),ee(null),P.get(route("work-hours.report"),{perPage:_},{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-red-500/80 to-red-600/80 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-medium transition-all text-xs backdrop-blur-xl",title:"Clear all filters",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All"]})]}),e.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[n!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Date:"}),e.jsx("span",{children:n==="custom"?`${j==null?void 0:j.toLocaleDateString()} - ${N==null?void 0:N.toLocaleDateString()}`:n})]}),d!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-purple-500/20 text-purple-300 rounded-lg backdrop-blur-xl border border-purple-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Type:"}),e.jsx("span",{children:U(d)})]}),h!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-green-500/20 text-green-300 rounded-lg backdrop-blur-xl border border-green-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"User:"}),e.jsx("span",{children:((fe=w.find(t=>t.id==h))==null?void 0:fe.name)||"Unknown"})]}),u!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-indigo-500/20 text-indigo-300 rounded-lg backdrop-blur-xl border border-indigo-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Role:"}),e.jsx("span",{children:u})]}),f!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg backdrop-blur-xl border border-yellow-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Tracker:"}),e.jsx("span",{children:f})]}),p!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-pink-500/20 text-pink-300 rounded-lg backdrop-blur-xl border border-pink-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Project:"}),e.jsx("span",{title:p,children:p.length>12?`${p.substring(0,12)}...`:p})]}),b!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-teal-500/20 text-teal-300 rounded-lg backdrop-blur-xl border border-teal-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Client:"}),e.jsx("span",{title:b,children:b.length>12?`${b.substring(0,12)}...`:b})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>Me(!T),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl",children:[e.jsx("svg",{className:`w-5 h-5 mr-2 transition-transform ${T?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),T?"Hide Advanced Filters":"Show Advanced Filters"]})}),T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Work Type"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>k("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${d==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Types"}),e.jsx("button",{onClick:()=>k("tracker"),className:`px-4 py-2 rounded-xl font-medium transition-all ${d==="tracker"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Tracker"}),e.jsx("button",{onClick:()=>k("manual"),className:`px-4 py-2 rounded-xl font-medium transition-all ${d==="manual"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Manual Time"}),e.jsx("button",{onClick:()=>k("test_task"),className:`px-4 py-2 rounded-xl font-medium transition-all ${d==="test_task"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Test Task"}),e.jsx("button",{onClick:()=>k("fixed"),className:`px-4 py-2 rounded-xl font-medium transition-all ${d==="fixed"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Fixed Project"}),e.jsx("button",{onClick:()=>k("office_work"),className:`px-4 py-2 rounded-xl font-medium transition-all ${d==="office_work"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Office Work"}),e.jsx("button",{onClick:()=>k("outside_of_upwork"),className:`px-4 py-2 rounded-xl font-medium transition-all ${d==="outside_of_upwork"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Outside of Upwork"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by User"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:F,onChange:t=>{te(t.target.value),de(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>me("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${h==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Users"}),qe.map(t=>e.jsx("button",{onClick:()=>me(t.id),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${h==t.id?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t.name,children:t.name},t.id)),W.length===0&&F&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No users found"})]}),e.jsx(E,{currentPage:ne,totalPages:Ye,onPageChange:de})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Designation"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search designations...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:le,onChange:t=>re(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ue("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${u==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Designations"}),Ue().filter(t=>t.toLowerCase().includes(le.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>ue(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${u===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Tracker"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search trackers...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:se,onChange:t=>ae(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>be("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${f==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Trackers"}),We().filter(t=>t.toLowerCase().includes(se.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>be(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm capitalize ${f===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Project"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search projects...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:L,onChange:t=>{ie(t.target.value),xe(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ge("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${p==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Projects"}),Ge.map(t=>e.jsx("button",{onClick:()=>ge(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${p===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t)),B.length===0&&L&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No projects found"})]}),e.jsx(E,{currentPage:ce,totalPages:Je,onPageChange:xe})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Client"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search clients...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:M,onChange:t=>{oe(t.target.value),pe(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>we("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${b==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Clients"}),Ke.map(t=>e.jsx("button",{onClick:()=>we(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${b===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t)),R.length===0&&M&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No clients found"})]}),e.jsx(E,{currentPage:he,totalPages:Qe,onPageChange:pe})]})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto shadow-2xl ring-1 ring-white/20 rounded-2xl",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/20 table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Designation"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Work Type"}),e.jsx("th",{className:"w-24 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Tracker"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"w-36 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"w-20 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Hours"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider sticky right-0 bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl border-l border-white/10",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white/5 divide-y divide-white/10 backdrop-blur-xl",children:(je=r==null?void 0:r.data)!=null&&je.length?r.data.map((t,l)=>{var a,s,i,g,v,c;return e.jsxs("tr",{className:`${l%2===0?"bg-white/5":"bg-white/10"} hover:bg-white/20 transition-colors backdrop-blur-xl`,children:[e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate font-medium",children:t.user.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 truncate",children:t.user.designation||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20",children:U(t.work_type)})}),e.jsx("td",{className:"px-6 py-4 text-sm text-white capitalize truncate font-medium",children:t.tracker}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:t.date}),e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate font-medium",title:((a=t.project)==null?void 0:a.name)||"No Project",children:((s=t.project)==null?void 0:s.name)||"No Project"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 truncate",title:((g=(i=t.project)==null?void 0:i.client)==null?void 0:g.name)||"No Client",children:((c=(v=t.project)==null?void 0:v.client)==null?void 0:c.name)||"No Client"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-400",children:ke(t.hours)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 relative group",children:e.jsx("div",{className:"max-w-xs truncate",children:t.description&&t.description.length>50?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"truncate block",children:[t.description.substring(0,50),"..."]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.description),D("Description copied to clipboard!")},className:"mt-1 text-xs bg-white/10 hover:bg-white/20 text-white/80 px-2 py-1 rounded transition-all",title:"Copy full description",children:"Copy Full Text"})]}):e.jsx("span",{className:"block",children:t.description})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10 shadow-lg",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(tt,{href:route("work-hours.edit",t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Edit"}),e.jsx("button",{onClick:()=>ze(t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Delete"})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-8 text-center text-white/60",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-white/40 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No work hour entries found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or date range"})]})})})}),e.jsx("tfoot",{className:"bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-t border-white/20",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:7,className:"px-6 py-4"}),e.jsxs("td",{className:"px-6 py-4 font-bold text-right text-blue-300 text-lg",children:["Total: ",ke(((Ne=r==null?void 0:r.data)==null?void 0:Ne.reduce((t,l)=>t+Number(l.hours||0),0).toFixed(2))||0)]}),e.jsx("td",{className:"px-6 py-4"}),e.jsx("td",{className:"w-32 px-6 py-4 sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10"})]})})]})}),((ve=r==null?void 0:r.data)==null?void 0:ve.length)>0&&e.jsx("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:e.jsx(at,{pagination:r,className:"justify-between items-center",preserveState:!0,preserveScroll:!1})})]})})})})]})}export{bt as default};
