import{G as C,R as p,j as e,S as y}from"./app-D9EP-8ib.js";import{A as S}from"./AuthenticatedLayout-pIlT4o7i.js";import"./ApplicationLogo-4neFPB6s.js";import"./transition-Vs7zb7Iq.js";function $({auth:h,trackers:x=[],projects:m=[]}){const t=C({date:"",hours:"",minutes:"0",description:"",work_type:"tracker",project_id:"",tracker:"",trackerSearch:"",projectSearch:""}),[f,c]=p.useState(!1),[j,n]=p.useState(!1),v=a=>{a.preventDefault(),t.post(route("work-hours.store"))},N="min-h-screen flex items-center justify-center bg-[#0a0f13] bg-[radial-gradient(circle_at_50%_0%,rgba(0,153,51,0.10)_0%,rgba(0,0,0,1)_100%)]",g="w-full max-w-2xl rounded-2xl shadow-2xl p-8 bg-[#181f23] border border-[#009933]/40",l="text-[#009933] font-semibold text-sm mb-1 flex items-center gap-1",o="w-full rounded-lg px-4 py-2 bg-[#10171b] border border-[#009933]/40 text-[#009933] focus:outline-none focus:ring-2 focus:ring-[#FFC300]/60 placeholder:text-[#FFC300]/60",i="text-red-500 text-xs mt-1",b="flex-1 bg-[#FFC300] hover:bg-[#FFD700] transition text-[#006622] font-semibold py-3 rounded-lg shadow-lg text-lg flex items-center justify-center gap-2",w="flex-1 bg-[#222c2f] hover:bg-[#2a393c] transition text-[#009933] font-semibold py-3 rounded-lg shadow-lg text-lg flex items-center justify-center gap-2 border border-[#009933]/40",u=a=>`flex-1 text-center py-3 rounded-lg font-semibold cursor-pointer transition border-2 ${a?"bg-[#FFC300] text-[#006622] border-[#009933] shadow-lg":"bg-[#10171b] text-[#009933] border-transparent hover:bg-[#009933]/10"}`;return e.jsxs(S,{user:h.user,children:[e.jsx(y,{title:"Project Time Tracking"}),e.jsx("div",{className:N,children:e.jsxs("div",{className:g,children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsxs("div",{className:"text-5xl font-extrabold",style:{color:"#FFC300",textShadow:"0 2px 8px #00993399"},children:["Sparking",e.jsx("span",{style:{color:"#009933"},children:"Asia"})]}),e.jsxs("div",{className:"text-xl font-semibold text-[#009933] mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"📝"}),"Project Time Tracking"]}),e.jsx("div",{className:"text-[#FFC300] text-sm mb-2",children:"Please fill in the details below to record your time"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"mb-2 bg-[#10171b] p-2 rounded-xl border border-teal-700/40",children:[e.jsx("div",{className:"flex gap-2 mb-2",children:[{label:"Tracker",value:"tracker"},{label:"Manual Time",value:"manual"},{label:"Test Task",value:"test_task"}].map(a=>e.jsx("div",{className:u(t.data.work_type===a.value),onClick:()=>t.setData("work_type",a.value),children:a.label},a.value))}),e.jsx("div",{className:"flex gap-2",children:[{label:"Fixed Project",value:"fixed"},{label:"Office Work",value:"office_work"},{label:"Outside of Upwork",value:"outside_of_upwork"}].map(a=>e.jsx("div",{className:u(t.data.work_type===a.value),onClick:()=>t.setData("work_type",a.value),children:a.label},a.value))})]}),t.errors.work_type&&e.jsx("div",{className:i,children:t.errors.work_type}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[!["office_work","outside_of_upwork"].includes(t.data.work_type)&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:l,children:["Profile Name",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Search or select profile...",className:o,value:t.data.trackerSearch||t.data.tracker||"",onChange:a=>{const r=a.target.value;t.setData("trackerSearch",r),r===""&&t.setData("tracker",""),c(!0)},onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),100)}),f&&e.jsxs("div",{className:"absolute z-10 w-full bg-[#10171b] border border-teal-700/40 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:[x.filter(a=>!t.data.trackerSearch||a.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).map(a=>e.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-teal-700/20 text-teal-100",onMouseDown:()=>{t.setData("tracker",a),t.setData("trackerSearch",a),c(!1)},children:a},a)),x.filter(a=>!t.data.trackerSearch||a.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).length===0&&e.jsx("div",{className:"px-4 py-2 text-teal-400",children:"No profiles found"})]}),t.errors.tracker&&e.jsx("div",{className:i,children:t.errors.tracker})]}),e.jsxs("div",{children:[e.jsxs("div",{className:l,children:["Tracking Date",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"date",value:t.data.date,onChange:a=>t.setData("date",a.target.value),className:o,required:!0}),t.errors.date&&e.jsx("div",{className:i,children:t.errors.date})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:l,children:["Project Name",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Search or select project...",className:o,value:t.data.projectSearch||(t.data.project_id?(()=>{var d;const a=m.find(k=>k.id==t.data.project_id);if(!a)return"";const r=((d=a.client)==null?void 0:d.name)||"No Client",s=a.name||"";return`${r}${s?" -- "+s:""}`})():""),onChange:a=>{const r=a.target.value;t.setData("projectSearch",r),r===""&&t.setData("project_id",""),n(!0)},onFocus:()=>n(!0),onBlur:()=>setTimeout(()=>n(!1),100),required:!0}),j&&e.jsxs("div",{className:"absolute z-10 w-full bg-[#10171b] border border-teal-700/40 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:[m.filter(a=>{var s;const r=`${((s=a.client)==null?void 0:s.name)??"No Client"} -- ${a.name}`;return!t.data.projectSearch||r.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).map(a=>{var r;return e.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-teal-700/20 text-teal-100",onMouseDown:()=>{var s;t.setData("project_id",a.id),t.setData("projectSearch",`${((s=a.client)==null?void 0:s.name)??"No Client"} -- ${a.name}`),n(!1)},children:[((r=a.client)==null?void 0:r.name)??"No Client"," -- ",a.name]},a.id)}),m.filter(a=>{var s;const r=`${((s=a.client)==null?void 0:s.name)??"No Client"} -- ${a.name}`;return!t.data.projectSearch||r.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).length===0&&e.jsx("div",{className:"px-4 py-2 text-teal-400",children:"No projects found"})]}),t.errors.project_id&&e.jsx("div",{className:i,children:t.errors.project_id})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 flex gap-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsxs("div",{className:l,children:["Hours",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"24",placeholder:"HH",value:t.data.hours||"",onChange:a=>{let r=a.target.value;r.length>2&&(r=r.slice(0,2));let s=parseInt(r.replace(/[^0-9]/g,""));isNaN(s)?s="":s>24?s=24:s<0&&(s=0),t.setData("hours",s===""?"":s.toString())},className:o,required:!0})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsxs("div",{className:l,children:["Minutes",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"59",placeholder:"MM",value:t.data.minutes||"",onChange:a=>{let r=a.target.value;r.length>2&&(r=r.slice(0,2));let s=parseInt(r.replace(/[^0-9]/g,""));isNaN(s)?s="":s>59?s=59:s<0&&(s=0),t.setData("minutes",s===""?"":s.toString())},className:o,required:!0})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center gap-2 text-[#009933] font-semibold text-lg",children:[e.jsx("span",{className:"text-[#FFC300]",children:"🕒"})," Total Time: ",(()=>{const a=parseInt(t.data.hours||0,10),r=parseInt(t.data.minutes||0,10),s=d=>d.toString().padStart(2,"0");return isNaN(a)&&isNaN(r)?"00:00":isNaN(a)?`00:${s(r)}`:isNaN(r)?`${s(a)}:00`:`${s(a)}:${s(r)}`})()]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:l,children:["Memo",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("textarea",{placeholder:"Add any notes about this time entry...",value:t.data.description,onChange:a=>t.setData("description",a.target.value),className:o+" min-h-[70px]",required:!0}),t.errors.description&&e.jsx("div",{className:i,children:t.errors.description})]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsxs("button",{type:"submit",className:b,children:[e.jsx("span",{children:"🚀"})," Submit Time Entry"]}),e.jsxs("button",{type:"reset",className:w,onClick:()=>t.reset(),children:[e.jsx("span",{children:"↺"})," Reset Form"]})]})]})]})})]})}export{$ as default};
