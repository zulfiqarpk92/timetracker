import{R as i,A as m,j as e,S as H,x as N}from"./app-Ddwxqofy.js";import{A as V}from"./AuthenticatedLayout-CTZTZuFJ.js";import{A as R}from"./AnimatedBackground-BBU1OLY5.js";import{T as q}from"./Pagination-tcYV80e_.js";import"./ApplicationLogo-3LeIIhXn.js";import"./Avatar-DJTmNILM.js";import"./transition-CkLA98mN.js";function O({message:u,onClose:s}){return u?e.jsxs("div",{className:"fixed top-5 right-5 z-50 bg-gradient-to-r from-green-500/90 to-blue-500/90 backdrop-blur-xl text-white px-6 py-3 rounded-xl shadow-2xl flex items-center border border-white/20",children:[e.jsx("span",{className:"font-medium",children:u}),e.jsx("button",{onClick:s,className:"ml-4 text-white hover:text-gray-300 font-bold text-lg",children:"Ã—"})]}):null}function Z({auth:u,projects:s,flash:g,filters:x={}}){const[f,b]=i.useState(null),[P,w]=i.useState((g==null?void 0:g.success)||""),[p,j]=i.useState((s==null?void 0:s.per_page)||10),[l,v]=i.useState(x.search||""),[n,k]=i.useState(x.client||""),[o,y]=i.useState(x.tag||""),[d,C]=i.useState(x.sort||"name"),[a,S]=i.useState(x.order||"asc"),[A,L]=i.useState(!1);i.useEffect(()=>{s!=null&&s.per_page&&j(s.per_page)},[s==null?void 0:s.per_page]),i.useEffect(()=>{const t=setTimeout(()=>{l!==(x.search||"")&&(L(!0),m.get(route("projects.index"),{search:l,client:n,tag:o,sort:d,order:a,perPage:p},{preserveState:!0,replace:!0,onFinish:()=>L(!1)}))},500);return()=>clearTimeout(t)},[l]);const T=t=>b(t),W=()=>{f&&m.delete(route("projects.destroy",f),{onSuccess:()=>{w("Project deleted."),b(null)},onError:()=>{w("Failed to delete project."),b(null)}})},$=()=>w(""),D=t=>{j(t),m.get(route("projects.index"),{perPage:t,search:l,client:n,tag:o,sort:d,order:a})},c=(t,r)=>{const h={search:l,client:n,tag:o,sort:d,order:a,perPage:p};h[t]=r,t==="client"&&k(r),t==="tag"&&y(r),t==="sort"&&C(r),t==="order"&&S(r),m.get(route("projects.index"),h)},z=()=>{v(""),k(""),y(""),C("name"),S("asc"),m.get(route("projects.index"),{perPage:p})},F=s!=null&&s.data?[...new Set(s.data.map(t=>{var r;return(r=t.client)==null?void 0:r.name}).filter(Boolean))]:[],I=s!=null&&s.data?[...new Set(s.data.flatMap(t=>{var r;return((r=t.client)==null?void 0:r.tags)||[]}).filter(Boolean))]:[];return e.jsxs(V,{user:u.user,header:e.jsx("h2",{className:"font-semibold text-xl text-slate-100 leading-tight",children:"Projects"}),children:[e.jsx(H,{title:"Projects"}),e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",style:{background:"#282a2a"},children:e.jsx(R,{})}),e.jsx(O,{message:P,onClose:$}),f&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Confirm Delete"}),e.jsx("p",{className:"mb-6 text-white/70",children:"Are you sure you want to delete this project?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>b(null),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all backdrop-blur-xl border border-white/20",children:"Cancel"}),e.jsx("button",{onClick:W,className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-medium transition-all",children:"Delete"})]})]})}),e.jsx("div",{className:"py-12 min-h-screen relative z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl overflow-hidden shadow-2xl rounded-2xl border border-white/10",children:e.jsxs("div",{className:"p-8 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Projects"}),e.jsx("p",{className:"text-white/70 text-lg",children:"Manage your projects and track progress"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Show:"}),e.jsxs("select",{value:p,onChange:t=>D(parseInt(t.target.value)),className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white text-sm",children:[e.jsx("option",{value:10,className:"bg-slate-800 text-white",children:"10"}),e.jsx("option",{value:25,className:"bg-slate-800 text-white",children:"25"}),e.jsx("option",{value:50,className:"bg-slate-800 text-white",children:"50"}),e.jsx("option",{value:100,className:"bg-slate-800 text-white",children:"100"})]}),e.jsx("span",{className:"text-white/70 text-sm",children:"entries"})]}),e.jsxs(N,{href:route("projects.create"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Project"]})]})]}),e.jsxs("div",{className:"mb-6 bg-white/5 backdrop-blur-xl rounded-xl border border-white/10 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-white/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:t=>v(t.target.value),className:"w-full pl-10 pr-10 py-3 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50"}),A&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white/50",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})}),e.jsx("div",{children:e.jsxs("select",{value:n,onChange:t=>c("client",t.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white",children:[e.jsx("option",{value:"",className:"bg-slate-800 text-white",children:"All Clients"}),F.map(t=>e.jsx("option",{value:t,className:"bg-slate-800 text-white",children:t},t))]})}),e.jsx("div",{children:e.jsxs("select",{value:o,onChange:t=>c("tag",t.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white",children:[e.jsx("option",{value:"",className:"bg-slate-800 text-white",children:"All Tags"}),I.map(t=>e.jsx("option",{value:t,className:"bg-slate-800 text-white",children:t},t))]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:d,onChange:t=>c("sort",t.target.value),className:"flex-1 px-3 py-3 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white text-sm",children:[e.jsx("option",{value:"name",className:"bg-slate-800 text-white",children:"Name"}),e.jsx("option",{value:"tag",className:"bg-slate-800 text-white",children:"Tag"}),e.jsx("option",{value:"client",className:"bg-slate-800 text-white",children:"Client"})]}),e.jsx("button",{onClick:()=>c("order",a==="asc"?"desc":"asc"),className:"px-3 py-3 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl hover:bg-white/20 transition-all text-white",title:`Sort ${a==="asc"?"Descending":"Ascending"}`,children:e.jsx("svg",{className:`w-4 h-4 transform transition-transform ${a==="desc"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})})]})]}),(l||n||o||d!=="name"||a!=="asc")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-300 border border-blue-400/30",children:['Search: "',l,'"',e.jsx("button",{onClick:()=>{v(""),c("search","")},className:"ml-2 text-blue-300 hover:text-white",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-500/20 text-purple-300 border border-purple-400/30",children:["Client: ",n,e.jsx("button",{onClick:()=>c("client",""),className:"ml-2 text-purple-300 hover:text-white",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-500/20 text-green-300 border border-green-400/30",children:["Tag: ",o,e.jsx("button",{onClick:()=>c("tag",""),className:"ml-2 text-green-300 hover:text-white",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(d!=="name"||a!=="asc")&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-500/20 text-orange-300 border border-orange-400/30",children:["Sort: ",d," (",a,")"]})]}),e.jsx("button",{onClick:z,className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all text-sm border border-white/20",children:"Clear All Filters"})]})]}),(s==null?void 0:s.data)&&e.jsxs("div",{className:"mb-4 flex justify-between items-center text-sm text-white/70",children:[e.jsxs("div",{children:["Showing ",s.from||0," to ",s.to||0," of ",s.total||0," projects",(l||n||o)&&e.jsxs("span",{className:"ml-2 text-blue-300",children:["(filtered",l&&` by "${l}"`,n&&` for client "${n}"`,o&&` with tag "${o}"`,")"]})]}),e.jsx("div",{children:s.total>0&&e.jsxs("span",{children:["Page ",s.current_page," of ",s.last_page]})})]}),e.jsx("div",{className:"overflow-x-auto bg-white/5 backdrop-blur-xl rounded-xl border border-white/10",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/10 table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-500/30 to-purple-500/30 backdrop-blur-xl",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>c("sort","id"),className:"flex items-center gap-1 hover:text-blue-300 transition-colors",children:["ID",d==="id"&&e.jsx("svg",{className:`w-3 h-3 transform transition-transform ${a==="desc"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>c("sort","name"),className:"flex items-center gap-1 hover:text-blue-300 transition-colors",children:["Name",d==="name"&&e.jsx("svg",{className:`w-3 h-3 transform transition-transform ${a==="desc"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),e.jsx("th",{className:"w-48 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>c("sort","client"),className:"flex items-center gap-1 hover:text-blue-300 transition-colors",children:["Client",d==="client"&&e.jsx("svg",{className:`w-3 h-3 transform transition-transform ${a==="desc"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),e.jsx("th",{className:"w-48 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Client Tags"}),e.jsx("th",{className:"w-40 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider sticky right-0 bg-gradient-to-r from-blue-500/30 to-purple-500/30 backdrop-blur-xl",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:!(s!=null&&s.data)||s.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-white/40 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No projects found"}),e.jsx("p",{className:"text-white/60 mb-4",children:"Get started by adding your first project."}),e.jsxs(N,{href:route("projects.create"),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl font-medium transition-all",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add First Project"]})]})})}):s.data.map((t,r)=>{var h,M,B;return e.jsxs("tr",{className:`${r%2===0?"bg-white/5":"bg-white/10"} hover:bg-white/20 transition-all duration-200`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-blue-400",children:t.id}),e.jsx("td",{className:"px-6 py-4 text-sm text-white font-medium truncate",title:t.name,children:t.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate",title:(h=t.client)==null?void 0:h.name,children:e.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-medium bg-purple-500/30 text-purple-200 rounded-full backdrop-blur-xl border border-purple-400/30",children:((M=t.client)==null?void 0:M.name)||"No Client"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-white",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(B=t.client)!=null&&B.tags&&t.client.tags.length>0?t.client.tags.map((_,E)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-500/20 text-green-300 rounded-md backdrop-blur-xl border border-green-400/30",children:_},E)):e.jsx("span",{className:"text-white/50 text-xs",children:"No tags"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium sticky right-0 bg-white/10 backdrop-blur-xl",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{href:route("projects.edit",t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white text-xs font-medium rounded-md transition-all",children:"Edit"}),e.jsx("button",{onClick:()=>T(t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white text-xs font-medium rounded-md transition-all",children:"Delete"})]})})]},t.id)})})]})}),(s==null?void 0:s.data)&&s.data.length>0&&e.jsx("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:e.jsx(q,{pagination:s,className:"justify-between items-center",preserveState:!0,preserveScroll:!1})})]})})})})]})}export{Z as default};
