import{r as l,G as v,j as e,S as b,x as w}from"./app-D6Y0PbC7.js";import{A as y}from"./AuthenticatedLayout-CZoyPaV_.js";import"./ApplicationLogo-DdRM22D-.js";import"./Avatar-DY26syhy.js";import"./transition-bkEx4zys.js";function E({auth:h,project:a,clients:c=[]}){const[i,s]=l.useState(!1),[m,o]=l.useState(""),d=l.useRef(null),t=v({name:a.name||"",client_id:a.client_id||""}),x=c.filter(r=>r.name.toLowerCase().includes(m.toLowerCase())),n=c.find(r=>r.id==t.data.client_id),u=r=>{t.setData("client_id",r.id),o(""),s(!1)},g=()=>{s(!i)},p=r=>{o(r.target.value),s(!0)};l.useEffect(()=>{const r=j=>{d.current&&!d.current.contains(j.target)&&(s(!1),o(""))};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]);const f=r=>{r.preventDefault(),t.put(route("projects.update",a.id))};return e.jsxs(y,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Edit Project"}),children:[e.jsx(b,{title:"Edit Project"}),e.jsx("div",{className:"py-12 bg-gradient-to-br from-green-50 to-yellow-50 min-h-screen",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-visible shadow-xl sm:rounded-xl border-t-4 border-gradient-to-r from-green-600 to-yellow-400",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-yellow-500 bg-clip-text text-transparent mb-2",children:"Edit Project"}),e.jsx("p",{className:"text-gray-600",children:"Update project details and reassign client if needed"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Project Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter project name...",value:t.data.name,onChange:r=>t.setData("name",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0}),t.errors.name&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:t.errors.name})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Client"}),e.jsxs("div",{className:"relative",ref:d,children:[e.jsx("input",{type:"text",placeholder:n?n.name:"Search or select client...",value:m,onChange:p,onClick:g,className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors cursor-pointer"}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),i&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-xl max-h-60 overflow-auto",children:x.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-gray-500 border-b border-gray-100 transition-colors",onClick:()=>{t.setData("client_id",""),o(""),s(!1)},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear selection"]})}),x.map(r=>e.jsx("div",{className:`px-4 py-3 hover:bg-green-50 cursor-pointer transition-colors ${t.data.client_id==r.id?"bg-green-50 text-green-700 border-l-4 border-green-500":"text-gray-700"}`,onClick:()=>u(r),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-yellow-500 rounded-full flex items-center justify-center text-white text-sm font-medium mr-3",children:r.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium",children:r.name}),t.data.client_id==r.id&&e.jsx("svg",{className:"w-4 h-4 ml-auto text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},r.id))]}):e.jsxs("div",{className:"px-4 py-3 text-gray-500 text-center",children:[e.jsx("svg",{className:"w-8 h-8 mx-auto mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"No clients found"]})})]}),t.errors.client_id&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:t.errors.client_id})]}),n&&e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-yellow-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-yellow-500 rounded-full flex items-center justify-center text-white font-semibold mr-3",children:n.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selected Client:"}),e.jsx("p",{className:"font-semibold text-green-700",children:n.name})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsxs("button",{type:"submit",disabled:t.processing,className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl disabled:opacity-50",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t.processing?"Updating...":"Update Project"]}),e.jsxs(w,{href:route("projects.index"),className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Projects"]})]})]})]})})})})]})}export{E as default};
