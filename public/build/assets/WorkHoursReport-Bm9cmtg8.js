import{r as n,j as e,S as rt,A as F,x as at}from"./app-BUOKoo0R.js";import{D as Pe,t as $e,u as G,w as ot}from"./helpers-BKHKEWLD.js";import{A as it}from"./AuthenticatedLayout-DHQjAcPl.js";import{A as nt}from"./AnimatedBackground-C8Tsx4S6.js";import{T as dt}from"./Pagination-cDnK7mne.js";import"./ApplicationLogo-DmZTOvLG.js";import"./Avatar-DVZ-vax0.js";import"./transition-DkyqKjRY.js";function ct({message:d,onClose:s}){return d?e.jsxs("div",{className:"fixed top-5 right-5 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center backdrop-blur-xl border border-white/20",children:[e.jsx("span",{className:"font-medium",children:d}),e.jsx("button",{onClick:s,className:"ml-4 text-white hover:text-blue-200 font-bold text-lg transition-colors",children:"×"})]}):null}function Fe({currentPage:d,totalPages:s,onPageChange:g}){return s<=1?null:e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/10",children:[e.jsx("button",{onClick:()=>g(Math.max(1,d-1)),disabled:d===1,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"← Prev"}),e.jsxs("span",{className:"text-xs text-white/70",children:["Page ",d," of ",s]}),e.jsx("button",{onClick:()=>g(Math.min(s,d+1)),disabled:d===s,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Next →"})]})}const L=d=>{const s=d.getFullYear(),g=String(d.getMonth()+1).padStart(2,"0"),j=String(d.getDate()).padStart(2,"0");return`${s}-${g}-${j}`},_=d=>{const s=new Date;let g,j;if(d==="today")g=j=L(s);else if(d==="week"){const D=s.getDay(),T=D===0?6:D-1,C=new Date(s);C.setDate(C.getDate()-T);const A=new Date(C);A.setDate(A.getDate()+6),g=L(C),j=L(A)}else if(d==="month"){const D=new Date(s.getFullYear(),s.getMonth(),1),T=new Date(s.getFullYear(),s.getMonth()+1,0);g=L(D),j=L(T)}return{start:g,end:j}};function ft({auth:d,workHours:s,users:g=[],flash:j,filter:D="all",startDate:T="",endDate:C="",workType:A="all",userId:Le="all",designation:Me="all",tracker:We="all",client:Ie="all",perPage:Ee=15}){var Ce,Se,De,Te,Ae;const[O,M]=n.useState(null),[Ue,w]=n.useState((j==null?void 0:j.success)||""),[a,Q]=n.useState(D),[i,Z]=n.useState(A),[c,H]=n.useState(Le),[m,ee]=n.useState(Me),[u,te]=n.useState(We),[x,le]=n.useState(Ie),[p,se]=n.useState(T?new Date(T):null),[b,re]=n.useState(C?new Date(C):null),[R,ae]=n.useState(""),[W,_e]=n.useState(!1),[oe,ie]=n.useState(""),[ne,de]=n.useState(""),[B,ce]=n.useState(""),[z,Oe]=n.useState(Ee),[q,xe]=n.useState(!1),[v,P]=n.useState(new Set),[Re,V]=n.useState(!1),[X,he]=n.useState(!1),[me,ue]=n.useState(1),[pe,be]=n.useState(1),I=10,Y=t=>({tracker:"Tracker",manual:"Manual Time",test_task:"Test Task",fixed:"Fixed Project",office_work:"Office Work",outside_of_upwork:"Outside of Upwork"})[t]||t,Be=()=>{var l;return[...new Set(((l=s==null?void 0:s.data)==null?void 0:l.map(r=>{var o;return(o=r.user)==null?void 0:o.designation}).filter(Boolean))||[])].sort()},ze=()=>{var l;return[...new Set(((l=s==null?void 0:s.data)==null?void 0:l.map(r=>r.tracker).filter(Boolean))||[])].sort()},qe=()=>{var l;return[...new Set(((l=s==null?void 0:s.data)==null?void 0:l.map(r=>{var o;return(o=r.client)==null?void 0:o.name}).filter(Boolean))||[])].sort()},Ve=t=>{if(!t&&t!==0)return"";const l=Math.round(Number(t)*3600),r=Math.floor(l/3600),o=Math.floor(l%3600/60),y=l%60;return[r,o,y].map(k=>String(k).padStart(2,"0")).join(":")},Xe=async()=>{if(!q){xe(!0),w("Preparing export data...");try{const t={filter:a};if(a==="custom")p&&b&&(t.startDate=p.toISOString().slice(0,10),t.endDate=b.toISOString().slice(0,10));else if(a!=="all"){const{start:N,end:U}=_(a);t.startDate=N,t.endDate=U}i&&i!=="all"&&(t.workType=i),c&&c!=="all"&&(t.userId=c),m&&m!=="all"&&(t.designation=m),u&&u!=="all"&&(t.tracker=u),x&&x!=="all"&&(t.client=x);const l=new URLSearchParams(t).toString(),r=`${route("work-hours.export")}?${l}`,o=await fetch(r,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to fetch export data");const h=(await o.json()).data.map(N=>{var U;return{User:N.user.name,Designation:N.user.designation||"N/A","Work Type":Y(N.work_type),Tracker:N.tracker,Date:N.date,Client:((U=N.client)==null?void 0:U.name)||"No Client",Hours:Ve(N.hours),Description:N.description}}),$=G.json_to_sheet(h),E=G.book_new();G.book_append_sheet(E,$,"WorkHours"),ot(E,"work_hours_report.csv",{bookType:"csv"}),w(`Successfully exported ${h.length} entries to CSV`)}catch(t){console.error("Export error:",t),w("Failed to export data. Please try again.")}finally{xe(!1)}}},Ye=t=>{M(t)},Je=()=>{O&&F.delete(route("work-hours.destroy",O),{onSuccess:()=>{w("Entry deleted successfully."),M(null)},onError:()=>{w("Failed to delete entry."),M(null)}})},Ke=()=>w(""),ge=t=>{H(t),ae(""),f(a,i,t)},J=g.filter(t=>t.name.toLowerCase().includes(R.toLowerCase())),we=(t,l,r)=>{const o=(l-1)*r,y=o+r;return t.slice(o,y)},fe=(t,l)=>Math.ceil(t/l),Ge=t=>{const l=new Set(v);l.has(t)?l.delete(t):l.add(t),P(l)},je=()=>{var l;const t=new Set(((l=s==null?void 0:s.data)==null?void 0:l.map(r=>r.id))||[]);P(t)},Qe=async()=>{try{const t={filter:a,idsOnly:!0};if(a==="custom")p&&b&&(t.startDate=p.toISOString().slice(0,10),t.endDate=b.toISOString().slice(0,10));else if(a!=="all"){const{start:h,end:$}=_(a);t.startDate=h,t.endDate=$}i&&i!=="all"&&(t.workType=i),c&&c!=="all"&&(t.userId=c),m&&m!=="all"&&(t.designation=m),u&&u!=="all"&&(t.tracker=u),x&&x!=="all"&&(t.client=x);const l=new URLSearchParams(t).toString(),r=`${route("work-hours.export")}?${l}`,o=await fetch(r,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to fetch all entries");const y=await o.json(),k=new Set(y.data.map(h=>h.id));P(k),w(`Selected ${k.size} entries across all pages`)}catch(t){console.error("Error selecting all entries:",t),w("Failed to select all entries. Please try again.")}},ye=()=>{P(new Set)},Ze=async()=>{var t;if(v.size!==0){he(!0);try{const l=(t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"),r=await fetch(route("work-hours.bulk-delete"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":l,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({ids:Array.from(v)})});if(!r.ok)throw new Error("Failed to delete entries");const o=await r.json();F.reload({only:["workHours","flash"],onSuccess:()=>{P(new Set),V(!1),w(`Successfully deleted ${o.deletedCount} entries`)}})}catch(l){console.error("Bulk delete error:",l),w("Failed to delete entries. Please try again.")}finally{he(!1)}}},He=we(J,me,I),et=fe(J.length,I),K=qe().filter(t=>t.toLowerCase().includes(B.toLowerCase())),tt=we(K,pe,I),lt=fe(K.length,I),f=(t,l=i,r=c,o=m,y=u,k=x)=>{Q(t);const h={filter:t,perPage:z};if(t==="custom")p&&b&&(h.startDate=p.toISOString().slice(0,10),h.endDate=b.toISOString().slice(0,10));else if(t!=="all"){const{start:$,end:E}=_(t);h.startDate=$,h.endDate=E}l&&l!=="all"&&(h.workType=l),r&&r!=="all"&&(h.userId=r),o&&o!=="all"&&(h.designation=o),y&&y!=="all"&&(h.tracker=y),k&&k!=="all"&&(h.client=k),F.get(route("work-hours.report"),h,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},S=t=>{Z(t),f(a,t)},Ne=t=>{ee(t),ie(""),f(a,i,c,t)},ve=t=>{te(t),de(""),f(a,i,c,m,t)},ke=t=>{le(t),ce(""),f(a,i,c,m,u,t)},st=t=>{Oe(t);const l={filter:a,perPage:t};if(a==="custom"&&p&&b)l.startDate=p.toISOString().slice(0,10),l.endDate=b.toISOString().slice(0,10);else if(a!=="all"){const{start:r,end:o}=_(a);l.startDate=r,l.endDate=o}i!=="all"&&(l.workType=i),c!=="all"&&(l.userId=c),m!=="all"&&(l.designation=m),u!=="all"&&(l.tracker=u),x!=="all"&&(l.client=x),F.get(route("work-hours.report"),l,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})};return e.jsxs(it,{user:d.user,header:e.jsx("h2",{className:"font-semibold text-xl text-white leading-tight",children:"Work Hours Report"}),children:[e.jsx(rt,{title:"Work Hours Report"}),e.jsx(nt,{}),e.jsx("div",{id:"date-picker-portal"}),e.jsx(ct,{message:Ue,onClose:Ke}),O&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Confirm Delete"}),e.jsx("p",{className:"mb-6 text-gray-200",children:"Are you sure you want to delete this entry?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>M(null),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all backdrop-blur-xl border border-white/20",children:"Cancel"}),e.jsx("button",{onClick:Je,className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-medium transition-all shadow-lg",children:"Delete"})]})]})}),Re&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Confirm Bulk Delete"}),e.jsxs("p",{className:"mb-6 text-gray-200",children:["Are you sure you want to delete ",e.jsx("span",{className:"font-semibold text-red-300",children:v.size})," selected entries? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>V(!1),disabled:X,className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all backdrop-blur-xl border border-white/20 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:Ze,disabled:X,className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 disabled:from-gray-500 disabled:to-gray-600 text-white rounded-xl font-medium transition-all shadow-lg disabled:cursor-not-allowed flex items-center",children:X?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Deleting..."]}):"Delete All"})]})]})}),e.jsx("div",{className:"py-12 min-h-screen",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-xl shadow-2xl sm:rounded-2xl border border-white/20",children:e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 text-white",children:[e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Work Hours Report"}),e.jsx("p",{className:"text-gray-300 mt-2 text-sm sm:text-base",children:"Comprehensive analysis of work hours and productivity"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[v.size>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-3 bg-blue-500/20 backdrop-blur-xl rounded-xl border border-blue-400/30",children:[e.jsxs("span",{className:"text-blue-300 font-medium text-sm",children:[v.size," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:je,className:"px-3 py-1 bg-blue-500/30 hover:bg-blue-500/50 text-blue-200 rounded-lg transition-all text-sm font-medium",children:"Select Page"}),e.jsx("button",{onClick:Qe,className:"px-3 py-1 bg-blue-500/30 hover:bg-blue-500/50 text-blue-200 rounded-lg transition-all text-sm font-medium",children:"Select All"}),e.jsx("button",{onClick:ye,className:"px-3 py-1 bg-gray-500/30 hover:bg-gray-500/50 text-gray-200 rounded-lg transition-all text-sm font-medium",children:"Clear"}),e.jsx("button",{onClick:()=>V(!0),className:"px-3 py-1 bg-red-500/30 hover:bg-red-500/50 text-red-200 rounded-lg transition-all text-sm font-medium",children:"Delete Selected"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:ml-auto gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-white/70 text-sm font-medium whitespace-nowrap",children:"Show:"}),e.jsxs("select",{value:z,onChange:t=>st(parseInt(t.target.value)),className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white text-sm min-w-0",children:[e.jsx("option",{value:15,className:"bg-slate-800 text-white",children:"15"}),e.jsx("option",{value:25,className:"bg-slate-800 text-white",children:"25"}),e.jsx("option",{value:50,className:"bg-slate-800 text-white",children:"50"}),e.jsx("option",{value:100,className:"bg-slate-800 text-white",children:"100"})]}),e.jsx("span",{className:"text-white/70 text-sm whitespace-nowrap",children:"entries"})]}),e.jsx("button",{onClick:Xe,disabled:q,className:"inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:from-gray-500 disabled:to-gray-600 disabled:cursor-not-allowed text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl text-sm sm:text-base whitespace-nowrap",children:q?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"hidden sm:inline",children:"Exporting..."}),e.jsx("span",{className:"sm:hidden",children:"Export..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Export to CSV"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]})})]})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Date Range"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Dates"}),e.jsx("button",{onClick:()=>f("today"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="today"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Today"}),e.jsx("button",{onClick:()=>f("week"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="week"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Week"}),e.jsx("button",{onClick:()=>f("month"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="month"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Month"}),e.jsx("button",{onClick:()=>f("custom"),className:`px-4 py-2 rounded-xl font-medium transition-all ${a==="custom"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Custom Range"})]}),a==="custom"&&e.jsxs("div",{className:"flex gap-3 items-center mt-4 p-3 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[e.jsx("span",{className:"text-white font-medium",children:"From:"}),e.jsx(Pe,{selected:p,onChange:t=>se(t),dateFormat:"yyyy-MM-dd",maxDate:b||new Date,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",calendarClassName:"bg-slate-800 border border-white/20 rounded-xl shadow-2xl",dayClassName:t=>"text-white hover:bg-blue-500/50 hover:text-white rounded-lg transition-colors",weekDayClassName:t=>"text-gray-300 text-sm font-medium",monthClassName:t=>"text-white hover:bg-blue-500/50 rounded-lg transition-colors",timeClassName:t=>"text-white",popperClassName:"z-50",popperPlacement:"bottom-start",showPopperArrow:!1,placeholderText:"Select start date",isClearable:!0,withPortal:!0,portalId:"date-picker-portal"}),e.jsx("span",{className:"text-white font-medium",children:"To:"}),e.jsx(Pe,{selected:b,onChange:t=>re(t),dateFormat:"yyyy-MM-dd",minDate:p||void 0,maxDate:new Date,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",calendarClassName:"bg-slate-800 border border-white/20 rounded-xl shadow-2xl",dayClassName:t=>"text-white hover:bg-blue-500/50 hover:text-white rounded-lg transition-colors",weekDayClassName:t=>"text-gray-300 text-sm font-medium",monthClassName:t=>"text-white hover:bg-blue-500/50 rounded-lg transition-colors",timeClassName:t=>"text-white",popperClassName:"z-50",popperPlacement:"bottom-start",showPopperArrow:!1,placeholderText:"Select end date",isClearable:!0,withPortal:!0,portalId:"date-picker-portal"}),e.jsx("button",{onClick:()=>f("custom"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-600 transition-all disabled:opacity-50",disabled:!p||!b,children:"Apply"})]})]}),(a!=="all"||i!=="all"||c!=="all"||m!=="all"||u!=="all"||x!=="all")&&e.jsxs("div",{className:"lg:col-span-1 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Active Filters"}),e.jsxs("button",{onClick:()=>{Q("all"),Z("all"),H("all"),ee("all"),te("all"),le("all"),se(null),re(null),F.get(route("work-hours.report"),{perPage:z},{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-red-500/80 to-red-600/80 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-medium transition-all text-xs backdrop-blur-xl",title:"Clear all filters",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All"]})]}),e.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[a!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Date:"}),e.jsx("span",{children:a==="custom"?`${p==null?void 0:p.toLocaleDateString()} - ${b==null?void 0:b.toLocaleDateString()}`:a})]}),i!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-purple-500/20 text-purple-300 rounded-lg backdrop-blur-xl border border-purple-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Type:"}),e.jsx("span",{children:Y(i)})]}),c!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-green-500/20 text-green-300 rounded-lg backdrop-blur-xl border border-green-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"User:"}),e.jsx("span",{children:((Ce=g.find(t=>t.id==c))==null?void 0:Ce.name)||"Unknown"})]}),m!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-indigo-500/20 text-indigo-300 rounded-lg backdrop-blur-xl border border-indigo-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Role:"}),e.jsx("span",{children:m})]}),u!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg backdrop-blur-xl border border-yellow-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Tracker:"}),e.jsx("span",{children:u})]}),x!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-teal-500/20 text-teal-300 rounded-lg backdrop-blur-xl border border-teal-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Client:"}),e.jsx("span",{title:x,children:x.length>12?`${x.substring(0,12)}...`:x})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>_e(!W),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl",children:[e.jsx("svg",{className:`w-5 h-5 mr-2 transition-transform ${W?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),W?"Hide Advanced Filters":"Show Advanced Filters"]})}),W&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Work Type"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>S("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Types"}),e.jsx("button",{onClick:()=>S("tracker"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="tracker"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Tracker"}),e.jsx("button",{onClick:()=>S("manual"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="manual"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Manual Time"}),e.jsx("button",{onClick:()=>S("test_task"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="test_task"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Test Task"}),e.jsx("button",{onClick:()=>S("fixed"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="fixed"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Fixed Project"}),e.jsx("button",{onClick:()=>S("office_work"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="office_work"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Office Work"}),e.jsx("button",{onClick:()=>S("outside_of_upwork"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="outside_of_upwork"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Outside of Upwork"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by User"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:R,onChange:t=>{ae(t.target.value),ue(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ge("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${c==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Users"}),He.map(t=>e.jsx("button",{onClick:()=>ge(t.id),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${c==t.id?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t.name,children:t.name},t.id)),J.length===0&&R&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No users found"})]}),e.jsx(Fe,{currentPage:me,totalPages:et,onPageChange:ue})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Designation"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search designations...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:oe,onChange:t=>ie(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>Ne("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${m==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Designations"}),Be().filter(t=>t.toLowerCase().includes(oe.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>Ne(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${m===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Tracker"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search trackers...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:ne,onChange:t=>de(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ve("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${u==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Trackers"}),ze().filter(t=>t.toLowerCase().includes(ne.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>ve(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm capitalize ${u===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Client"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search clients...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:B,onChange:t=>{ce(t.target.value),be(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ke("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${x==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Clients"}),tt.map(t=>e.jsx("button",{onClick:()=>ke(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${x===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t)),K.length===0&&B&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No clients found"})]}),e.jsx(Fe,{currentPage:pe,totalPages:lt,onPageChange:be})]})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto shadow-2xl ring-1 ring-white/20 rounded-2xl",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/20 table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:((Se=s==null?void 0:s.data)==null?void 0:Se.length)>0&&s.data.every(t=>v.has(t.id)),onChange:t=>{t.target.checked?je():ye()},className:"w-4 h-4 text-blue-600 bg-white/10 border-white/30 rounded focus:ring-blue-500 focus:ring-2"})}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"w-28 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Designation"}),e.jsx("th",{className:"w-28 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Work Type"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Tracker"}),e.jsx("th",{className:"w-28 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider sticky right-0 bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl border-l border-white/10",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white/5 divide-y divide-white/10 backdrop-blur-xl",children:(De=s==null?void 0:s.data)!=null&&De.length?s.data.map((t,l)=>{var r,o;return e.jsxs("tr",{className:`${l%2===0?"bg-white/5":"bg-white/10"} hover:bg-white/20 transition-colors backdrop-blur-xl ${v.has(t.id)?"ring-2 ring-blue-400/50":""}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:v.has(t.id),onChange:()=>Ge(t.id),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/30 rounded focus:ring-blue-500 focus:ring-2"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-white truncate font-medium",children:t.user.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300 truncate",children:t.user.designation||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-white truncate",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20",children:Y(t.work_type)})}),e.jsx("td",{className:"px-4 py-3 text-sm text-white capitalize truncate font-medium",children:t.tracker}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white font-medium",children:t.date}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300 truncate",title:((r=t.client)==null?void 0:r.name)||"No Client",children:((o=t.client)==null?void 0:o.name)||"No Client"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-bold text-blue-400",children:$e(t.hours)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300 relative group",children:e.jsx("div",{className:"max-w-xs truncate",children:t.description&&t.description.length>50?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"truncate block",children:[t.description.substring(0,50),"..."]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.description),w("Description copied to clipboard!")},className:"mt-1 text-xs bg-white/10 hover:bg-white/20 text-white/80 px-2 py-1 rounded transition-all",title:"Copy full description",children:"Copy Full Text"})]}):e.jsx("span",{className:"block",children:t.description})})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10 shadow-lg",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(at,{href:route("work-hours.edit",t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Edit"}),e.jsx("button",{onClick:()=>Ye(t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Delete"})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-4 py-8 text-center text-white/60",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-white/40 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No work hour entries found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or date range"})]})})})}),e.jsx("tfoot",{className:"bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-t border-white/20",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3"}),e.jsx("td",{colSpan:6,className:"px-4 py-3"}),e.jsxs("td",{className:"px-4 py-3 font-bold text-right text-blue-300 text-lg",children:["Total: ",$e(((Te=s==null?void 0:s.data)==null?void 0:Te.reduce((t,l)=>t+Number(l.hours||0),0).toFixed(2))||0)]}),e.jsx("td",{className:"px-4 py-3"}),e.jsx("td",{className:"w-32 px-4 py-3 sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10"})]})})]})}),((Ae=s==null?void 0:s.data)==null?void 0:Ae.length)>0&&e.jsx("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:e.jsx(dt,{pagination:s,className:"flex flex-col sm:flex-row justify-between items-center gap-4",preserveState:!0,preserveScroll:!1})})]})})})})]})}export{ft as default};
