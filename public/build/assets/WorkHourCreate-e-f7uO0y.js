import{G as f,R as c,j as e,S as b,x as j}from"./app-CZCp2aUd.js";import{A as N}from"./AuthenticatedLayout-BEv8pIN4.js";import"./ApplicationLogo-BkownQm0.js";import"./transition-DZQUnqdu.js";function S({auth:m,trackers:d=[],projects:i=[]}){const t=f({date:"",hours:"",minutes:"0",description:"",work_type:"tracker",project_id:"",tracker:"",trackerSearch:"",projectSearch:""}),[u,o]=c.useState(!1),[x,l]=c.useState(!1),g=r=>{r.preventDefault(),t.post(route("work-hours.store"))},h=[{label:"Tracker",value:"tracker"},{label:"Manual Time",value:"manual"},{label:"Test Task",value:"test_task"},{label:"Fixed Project",value:"fixed"},{label:"Office Work",value:"office_work"},{label:"Outside of Upwork",value:"outside_of_upwork"}];return e.jsxs(N,{user:m.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Add Work Entry"}),children:[e.jsx(b,{title:"Add Work Entry"}),e.jsx("div",{className:"py-12 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-xl sm:rounded-xl border-t-4 border-gradient-to-r from-green-600 to-yellow-400",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-green-700 bg-clip-text text-transparent mb-2",children:"Add Work Entry"}),e.jsx("p",{className:"text-gray-600",children:"Track your work hours and productivity"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-yellow-50 p-6 rounded-xl border border-green-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-green-800 mb-4",children:"Work Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:h.map(r=>e.jsx("button",{type:"button",onClick:()=>t.setData("work_type",r.value),className:`px-4 py-3 rounded-lg font-medium transition-all text-sm ${t.data.work_type===r.value?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-white text-green-700 border border-green-300 hover:bg-green-50"}`,children:r.label},r.value))}),t.errors.work_type&&e.jsx("p",{className:"text-red-600 text-sm mt-2",children:t.errors.work_type})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[!["office_work","outside_of_upwork"].includes(t.data.work_type)&&e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Profile Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Search or select profile...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",value:t.data.trackerSearch||t.data.tracker||"",onChange:r=>{const a=r.target.value;t.setData("trackerSearch",a),a===""&&t.setData("tracker",""),o(!0)},onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),100)}),u&&e.jsxs("div",{className:"absolute z-50 w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-xl",children:[d.filter(r=>!t.data.trackerSearch||r.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).map(r=>e.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-green-50 text-gray-700 transition-colors",onMouseDown:()=>{t.setData("tracker",r),t.setData("trackerSearch",r),o(!1)},children:r},r)),d.filter(r=>!t.data.trackerSearch||r.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).length===0&&e.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No profiles found"})]}),t.errors.tracker&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.tracker})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Tracking Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:t.data.date,onChange:r=>t.setData("date",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0}),t.errors.date&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.date})]}),e.jsxs("div",{className:"relative md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Project Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Search or select project...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",value:t.data.projectSearch||(t.data.project_id?(()=>{var n;const r=i.find(p=>p.id==t.data.project_id);if(!r)return"";const a=((n=r.client)==null?void 0:n.name)||"No Client",s=r.name||"";return`${a}${s?" -- "+s:""}`})():""),onChange:r=>{const a=r.target.value;t.setData("projectSearch",a),a===""&&t.setData("project_id",""),l(!0)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),100),required:!0}),x&&e.jsxs("div",{className:"absolute z-50 w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-xl",children:[i.filter(r=>{var s;const a=`${((s=r.client)==null?void 0:s.name)??"No Client"} -- ${r.name}`;return!t.data.projectSearch||a.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).map(r=>{var a;return e.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-green-50 text-gray-700 transition-colors",onMouseDown:()=>{var s;t.setData("project_id",r.id),t.setData("projectSearch",`${((s=r.client)==null?void 0:s.name)??"No Client"} -- ${r.name}`),l(!1)},children:[((a=r.client)==null?void 0:a.name)??"No Client"," -- ",r.name]},r.id)}),i.filter(r=>{var s;const a=`${((s=r.client)==null?void 0:s.name)??"No Client"} -- ${r.name}`;return!t.data.projectSearch||a.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).length===0&&e.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No projects found"})]}),t.errors.project_id&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.project_id})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Hours ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"24",placeholder:"0",value:t.data.hours||"",onChange:r=>{let a=r.target.value,s=parseInt(a.replace(/[^0-9]/g,""));isNaN(s)?s="":s>24?s=24:s<0&&(s=0),t.setData("hours",s===""?"":s.toString())},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Minutes ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"59",placeholder:"0",value:t.data.minutes||"",onChange:r=>{let a=r.target.value,s=parseInt(a.replace(/[^0-9]/g,""));isNaN(s)?s="":s>59?s=59:s<0&&(s=0),t.setData("minutes",s===""?"":s.toString())},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),e.jsx("div",{className:"md:col-span-2 p-4 bg-gradient-to-r from-yellow-50 to-green-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-green-700",children:[e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Total Time: ",(()=>{const r=parseInt(t.data.hours||0,10),a=parseInt(t.data.minutes||0,10),s=n=>n.toString().padStart(2,"0");return isNaN(r)&&isNaN(a)?"00:00":isNaN(r)?`00:${s(a)}`:isNaN(a)?`${s(r)}:00`:`${s(r)}:${s(a)}`})()]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{placeholder:"Add any notes about this time entry...",value:t.data.description,onChange:r=>t.setData("description",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors min-h-[120px]",required:!0}),t.errors.description&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.errors.description})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsxs("button",{type:"submit",disabled:t.processing,className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl disabled:opacity-50",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t.processing?"Submitting...":"Submit Time Entry"]}),e.jsxs("button",{type:"button",onClick:()=>t.reset(),className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors border border-gray-300",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Form"]}),e.jsxs(j,{href:route("work-hours.index"),className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-medium transition-colors shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]})]})]})]})})})})]})}export{S as default};
