import{G as k,R as p,j as e,S,x as _}from"./app-Bc8RgEft.js";import{A as F}from"./AuthenticatedLayout-DC6QTL72.js";import"./ApplicationLogo-9Lo6OuEz.js";import"./transition-BN7lusVF.js";function L({auth:f,workHour:l,trackers:x=[],projects:u=[]}){const t=k({id:l.id,date:l.date||"",hours:l.hours?Math.floor(Number(l.hours)):"",minutes:l.hours?Math.round(Number(l.hours)%1*60):"0",description:l.description||"",work_type:l.work_type||"tracker",project_id:l.project_id||"",tracker:l.tracker||"",trackerSearch:"",projectSearch:""}),[j,c]=p.useState(!1),[N,d]=p.useState(!1),v=a=>{a.preventDefault();const r=Number(t.data.hours)+Number(t.data.minutes)/60;t.put(route("work-hours.update",{id:t.data.id,hours:r}))},b="min-h-screen flex items-center justify-center bg-[#0a0f13] bg-[radial-gradient(circle_at_50%_0%,rgba(0,153,51,0.10)_0%,rgba(0,0,0,1)_100%)]",g="w-full max-w-2xl rounded-2xl shadow-2xl p-8 bg-[#181f23] border border-[#009933]/40",i="text-[#009933] font-semibold text-sm mb-1 flex items-center gap-1",n="w-full rounded-lg px-4 py-2 bg-[#10171b] border border-[#009933]/40 text-[#009933] focus:outline-none focus:ring-2 focus:ring-[#FFC300]/60 placeholder:text-[#FFC300]/60",o="text-red-500 text-xs mt-1",w="flex-1 bg-[#FFC300] hover:bg-[#FFD700] transition text-[#006622] font-semibold py-3 rounded-lg shadow-lg text-lg flex items-center justify-center gap-2",C="flex-1 bg-[#222c2f] hover:bg-[#2a393c] transition text-[#009933] font-semibold py-3 rounded-lg shadow-lg text-lg flex items-center justify-center gap-2 border border-[#009933]/40",h=a=>`flex-1 text-center py-3 rounded-lg font-semibold cursor-pointer transition border-2 ${a?"bg-[#FFC300] text-[#006622] border-[#009933] shadow-lg":"bg-[#10171b] text-[#009933] border-transparent hover:bg-[#009933]/10"}`;return e.jsxs(F,{user:f.user,children:[e.jsx(S,{title:"Edit Work Hour Entry"}),e.jsx("div",{className:b,children:e.jsxs("div",{className:g,children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsxs("div",{className:"text-5xl font-extrabold",style:{color:"#FFC300",textShadow:"0 2px 8px #00993399"},children:["Sparking",e.jsx("span",{style:{color:"#009933"},children:"Asia"})]}),e.jsxs("div",{className:"text-xl font-semibold text-[#009933] mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"📝"}),"Edit Work Hour Entry"]}),e.jsx("div",{className:"text-[#FFC300] text-sm mb-2",children:"Update your time entry details below"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"mb-2 bg-[#10171b] p-2 rounded-xl border border-teal-700/40",children:[e.jsx("div",{className:"flex gap-2 mb-2",children:[{label:"Tracker",value:"tracker"},{label:"Manual Time",value:"manual"},{label:"Test Task",value:"test_task"}].map(a=>e.jsx("div",{className:h(t.data.work_type===a.value),onClick:()=>t.setData("work_type",a.value),children:a.label},a.value))}),e.jsx("div",{className:"flex gap-2",children:[{label:"Fixed Project",value:"fixed"},{label:"Office Work",value:"office_work"},{label:"Outside of Upwork",value:"outside_of_upwork"}].map(a=>e.jsx("div",{className:h(t.data.work_type===a.value),onClick:()=>t.setData("work_type",a.value),children:a.label},a.value))})]}),t.errors.work_type&&e.jsx("div",{className:o,children:t.errors.work_type}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[!["office_work","outside_of_upwork"].includes(t.data.work_type)&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:i,children:["Profile Name",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Search or select profile...",className:n,value:t.data.trackerSearch||t.data.tracker||"",onChange:a=>{const r=a.target.value;t.setData("trackerSearch",r),r===""&&t.setData("tracker",""),c(!0)},onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),100)}),j&&e.jsxs("div",{className:"absolute z-10 w-full bg-[#10171b] border border-teal-700/40 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:[x.filter(a=>!t.data.trackerSearch||a.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).map(a=>e.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-teal-700/20 text-teal-100",onMouseDown:()=>{t.setData("tracker",a),t.setData("trackerSearch",a),c(!1)},children:a},a)),x.filter(a=>!t.data.trackerSearch||a.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).length===0&&e.jsx("div",{className:"px-4 py-2 text-teal-400",children:"No profiles found"})]}),t.errors.tracker&&e.jsx("div",{className:o,children:t.errors.tracker})]}),e.jsxs("div",{children:[e.jsxs("div",{className:i,children:["Tracking Date",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"date",value:t.data.date,onChange:a=>t.setData("date",a.target.value),className:n,required:!0}),t.errors.date&&e.jsx("div",{className:o,children:t.errors.date})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:i,children:["Project Name",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Search or select project...",className:n,value:t.data.projectSearch||(t.data.project_id?(()=>{var m;const a=u.find(y=>y.id==t.data.project_id);if(!a)return"";const r=((m=a.client)==null?void 0:m.name)||"No Client",s=a.name||"";return`${r}${s?" -- "+s:""}`})():""),onChange:a=>{const r=a.target.value;t.setData("projectSearch",r),r===""&&t.setData("project_id",""),d(!0)},onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),100)}),N&&e.jsxs("div",{className:"absolute z-10 w-full bg-[#10171b] border border-teal-700/40 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:[u.filter(a=>{var s;const r=`${((s=a.client)==null?void 0:s.name)??"No Client"} -- ${a.name}`;return!t.data.projectSearch||r.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).map(a=>{var r;return e.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-teal-700/20 text-teal-100",onMouseDown:()=>{var s;t.setData("project_id",a.id),t.setData("projectSearch",`${((s=a.client)==null?void 0:s.name)??"No Client"} -- ${a.name}`),d(!1)},children:[((r=a.client)==null?void 0:r.name)??"No Client"," -- ",a.name]},a.id)}),u.filter(a=>{var s;const r=`${((s=a.client)==null?void 0:s.name)??"No Client"} -- ${a.name}`;return!t.data.projectSearch||r.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).length===0&&e.jsx("div",{className:"px-4 py-2 text-teal-400",children:"No projects found"})]}),t.errors.project&&e.jsx("div",{className:o,children:t.errors.project})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 flex gap-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsxs("div",{className:i,children:["Hours",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"24",placeholder:"HH",value:t.data.hours||"",onChange:a=>{let r=a.target.value;r.length>2&&(r=r.slice(0,2));let s=parseInt(r.replace(/[^0-9]/g,""));isNaN(s)?s="":s>24?s=24:s<0&&(s=0),t.setData("hours",s===""?"":s.toString())},className:n,required:!0})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsxs("div",{className:i,children:["Minutes",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"59",placeholder:"MM",value:t.data.minutes||"",onChange:a=>{let r=a.target.value;r.length>2&&(r=r.slice(0,2));let s=parseInt(r.replace(/[^0-9]/g,""));isNaN(s)?s="":s>59?s=59:s<0&&(s=0),t.setData("minutes",s===""?"":s.toString())},className:n,required:!0})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center gap-2 text-[#009933] font-semibold text-lg",children:[e.jsx("span",{className:"text-[#FFC300]",children:"🕒"})," Total Time: ",(()=>{const a=parseInt(t.data.hours||0,10),r=parseInt(t.data.minutes||0,10),s=m=>m.toString().padStart(2,"0");return isNaN(a)&&isNaN(r)?"00:00":isNaN(a)?`00:${s(r)}`:isNaN(r)?`${s(a)}:00`:`${s(a)}:${s(r)}`})()]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:i,children:["Memo",e.jsx("span",{className:"text-teal-400",children:"*"})]}),e.jsx("textarea",{placeholder:"Add any notes about this time entry...",value:t.data.description,onChange:a=>t.setData("description",a.target.value),className:n+" min-h-[70px]",required:!0}),t.errors.description&&e.jsx("div",{className:o,children:t.errors.description})]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsxs("button",{type:"submit",className:w,children:[e.jsx("span",{children:"💾"})," Save Changes"]}),e.jsxs(_,{href:route("work-hours.index"),className:C,children:[e.jsx("span",{children:"↩"})," Cancel"]})]})]})]})})]})}export{L as default};
