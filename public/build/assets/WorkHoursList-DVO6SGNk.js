import{r as i,j as e,S as Te,x as z,A as _}from"./app-D6Y0PbC7.js";import{D as ue,t as ge,u as I,w as De}from"./helpers-CY5eZoLu.js";import{A as Me}from"./AuthenticatedLayout-CZoyPaV_.js";import"./index-KvH8qzXx.js";import"./ApplicationLogo-DdRM22D-.js";import"./Avatar-DY26syhy.js";import"./transition-bkEx4zys.js";function We({message:d,type:a="success",onClose:r}){if(!d)return null;const b=a==="error"?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-green-600 to-green-700",v=a==="error"?"border-red-400":"border-yellow-400";return e.jsxs("div",{className:`fixed top-5 right-5 z-50 ${b} text-white px-6 py-3 rounded-lg shadow-lg flex items-center border-l-4 ${v}`,children:[e.jsx("span",{className:"font-medium",children:d}),e.jsx("button",{onClick:r,className:"ml-4 text-white hover:text-yellow-200 font-bold text-lg",children:"Ã—"})]})}const $e=d=>{const a=new Date;let r,b;if(d==="today")r=b=a.toISOString().slice(0,10);else if(d==="week"){const v=a.getDate()-a.getDay();r=new Date(a.setDate(v)).toISOString().slice(0,10),b=new Date().toISOString().slice(0,10)}else d==="month"&&(r=new Date(a.getFullYear(),a.getMonth(),1).toISOString().slice(0,10),b=new Date().toISOString().slice(0,10));return{start:r,end:b}};function Ie({auth:d,workHours:a,flash:r,filter:b="all",startDate:v="",endDate:E="",workType:he="all",tracker:pe="all",project:fe="all",client:be="all"}){var oe,se,le;const[B,L]=i.useState(null),[we,N]=i.useState((r==null?void 0:r.success)||(r==null?void 0:r.error)||""),[je,V]=i.useState(r!=null&&r.success?"success":"error"),[c,H]=i.useState(b),[x,U]=i.useState(he),[f,R]=i.useState(pe),[m,q]=i.useState(fe),[u,G]=i.useState(be),[w,Y]=i.useState(v?new Date(v):null),[j,J]=i.useState(E?new Date(E):null),[T,D]=i.useState(""),[M,W]=i.useState(""),[$,F]=i.useState(""),[O,ye]=i.useState(!1),[h,K]=i.useState({date:!1,workType:!1,tracker:!1,project:!1,client:!1}),[C,ke]=i.useState(!1),S=t=>{K(o=>{const n={...o,[t]:!o[t]};return o[t]&&(t==="tracker"&&D(""),t==="project"&&W(""),t==="client"&&F("")),n})},P=t=>({tracker:"Tracker",manual:"Manual Time",test_task:"Test Task",fixed:"Fixed Project",office_work:"Office Work",outside_of_upwork:"Outside of Upwork"})[t]||t,Q=()=>[...new Set(a.map(o=>o.tracker).filter(Boolean))].sort(),X=()=>[...new Set(a.map(o=>{var n;return(n=o.project)==null?void 0:n.name}).filter(Boolean))].sort(),Z=()=>[...new Set(a.map(o=>{var n,s;return(s=(n=o.project)==null?void 0:n.client)==null?void 0:s.name}).filter(Boolean))].sort(),ve=t=>{if(!t&&t!==0)return"";const o=Math.round(Number(t)*3600),n=Math.floor(o/3600),s=Math.floor(o%3600/60),g=o%60;return[n,s,g].map(l=>String(l).padStart(2,"0")).join(":")},Ne=()=>{const t=a.map(s=>{var g,l,k;return{ID:s.id,"Work Type":P(s.work_type),Tracker:s.tracker,Date:s.date,Project:(g=s.project)==null?void 0:g.name,Client:(k=(l=s.project)==null?void 0:l.client)==null?void 0:k.name,Hours:ve(s.hours),Description:s.description}}),o=I.json_to_sheet(t),n=I.book_new();I.book_append_sheet(n,o,"WorkHours"),De(n,"work_hours_list.csv",{bookType:"csv"})};i.useEffect(()=>{r!=null&&r.success?(N(r.success),V("success")):r!=null&&r.error&&(N(r.error),V("error"))},[r==null?void 0:r.success,r==null?void 0:r.error]);const Ce=t=>{L(t)},Se=()=>{B&&_.delete(route("work-hours.destroy",B),{onSuccess:()=>{N("Entry deleted successfully."),L(null)},onError:()=>{N("Failed to delete entry."),L(null)}})},Le=()=>N(""),p=(t,o=x,n=f,s=m,g=u)=>{H(t);const l={};if(t==="custom")if(w&&j)l.filter="custom",l.startDate=w.toISOString().slice(0,10),l.endDate=j.toISOString().slice(0,10);else return;else if(t!=="all"){const{start:k,end:A}=$e(t);l.filter=t,l.startDate=k,l.endDate=A}o&&o!=="all"&&(l.workType=o),n&&n!=="all"&&(l.tracker=n),s&&s!=="all"&&(l.project=s),g&&g!=="all"&&(l.client=g),Object.keys(l).length===0?_.get(route("work-hours.index")):_.get(route("work-hours.index"),l)},y=t=>{U(t),p(c,t,f,m,u)},ee=t=>{R(t),D(""),p(c,x,t,m,u)},te=t=>{q(t),W(""),p(c,x,f,t,u)},re=t=>{G(t),F(""),p(c,x,f,m,t)};return e.jsxs(Me,{user:d.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Work Hours"}),children:[e.jsx(Te,{title:"Work Hours"}),e.jsx(We,{message:we,type:je,onClose:Le}),B&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-md border-t-4 border-yellow-400",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Confirm Delete"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this entry?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>L(null),className:"px-6 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Se,className:"px-6 py-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg font-medium transition-all",children:"Delete"})]})]})}),e.jsx("div",{className:"py-12 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-green-700 bg-clip-text text-transparent",children:"Work Hours"}),e.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Manage and track your work hours efficiently"})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsxs("button",{onClick:()=>ye(!O),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),O?"Hide Filters":"Show Filters"]}),e.jsxs(z,{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl",href:route("work-hours.create"),children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Entry"]}),e.jsxs("button",{onClick:Ne,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to CSV"]})]})]})}),O&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Filters"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>ke(!C),className:"inline-flex items-center px-3 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg text-sm",title:C?"Switch to grid layout":"Switch to sidebar layout",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:C?"M4 6h16M4 10h16M4 14h16M4 18h16":"M4 6h16M4 12h16M4 18h7"})}),C?"Grid Layout":"Sidebar Layout"]}),e.jsxs("button",{onClick:()=>{H("all"),U("all"),R("all"),q("all"),G("all"),Y(null),J(null),D(""),W(""),F(""),K({date:!1,workType:!1,tracker:!1,project:!1,client:!1}),_.get(route("work-hours.index"))},className:"inline-flex items-center px-3 py-2 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Clear All"]})]})]}),(c!=="all"||x!=="all"||f!=="all"||m!=="all"||u!=="all")&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200 mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Active Filters:"}),e.jsxs("div",{className:"flex gap-2 flex-wrap text-xs",children:[c!=="all"&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 rounded-md",children:["Date: ",c==="custom"?`${w==null?void 0:w.toLocaleDateString()} - ${j==null?void 0:j.toLocaleDateString()}`:c]}),x!=="all"&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-800 rounded-md",children:["Work Type: ",P(x)]}),f!=="all"&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-800 rounded-md capitalize",children:["Tracker: ",f]}),m!=="all"&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 rounded-md",children:["Project: ",m.length>15?`${m.substring(0,15)}...`:m]}),u!=="all"&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-teal-100 text-teal-800 rounded-md",children:["Client: ",u.length>15?`${u.substring(0,15)}...`:u]})]})]}),e.jsxs("div",{className:`${C?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4":"space-y-4"}`,children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-yellow-50 rounded-lg border border-green-200",children:[e.jsxs("button",{onClick:()=>S("date"),className:"w-full flex items-center justify-between p-4 text-left focus:outline-none",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-800",children:"Filter by Date Range"}),e.jsx("svg",{className:`w-5 h-5 text-green-600 transform transition-transform ${h.date?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.date&&e.jsxs("div",{className:"px-4 pb-4",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${c==="all"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-white text-green-700 border border-green-300 hover:bg-green-50"}`,children:"All Dates"}),e.jsx("button",{onClick:()=>p("today"),className:`px-4 py-2 rounded-lg font-medium transition-all ${c==="today"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-white text-green-700 border border-green-300 hover:bg-green-50"}`,children:"Today"}),e.jsx("button",{onClick:()=>p("week"),className:`px-4 py-2 rounded-lg font-medium transition-all ${c==="week"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-white text-green-700 border border-green-300 hover:bg-green-50"}`,children:"This Week"}),e.jsx("button",{onClick:()=>p("month"),className:`px-4 py-2 rounded-lg font-medium transition-all ${c==="month"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-white text-green-700 border border-green-300 hover:bg-green-50"}`,children:"This Month"}),e.jsx("button",{onClick:()=>p("custom"),className:`px-4 py-2 rounded-lg font-medium transition-all ${c==="custom"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-white text-green-700 border border-green-300 hover:bg-green-50"}`,children:"Custom Range"})]}),c==="custom"&&e.jsxs("div",{className:"flex gap-3 items-center mt-4 p-3 bg-white rounded-lg border border-green-200",children:[e.jsx("span",{className:"text-green-700 font-medium",children:"From:"}),e.jsx(ue,{selected:w,onChange:t=>Y(t),dateFormat:"yyyy-MM-dd",maxDate:j||void 0,className:"px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),e.jsx("span",{className:"text-green-700 font-medium",children:"To:"}),e.jsx(ue,{selected:j,onChange:t=>J(t),dateFormat:"yyyy-MM-dd",minDate:w||void 0,className:"px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),e.jsx("button",{onClick:()=>p("custom"),className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg font-medium hover:from-green-700 hover:to-green-800 transition-all disabled:opacity-50",disabled:!w||!j,children:"Apply"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsxs("button",{onClick:()=>S("workType"),className:"w-full flex items-center justify-between p-4 text-left focus:outline-none",children:[e.jsx("h3",{className:"text-sm font-semibold text-yellow-800",children:"Filter by Work Type"}),e.jsx("svg",{className:`w-5 h-5 text-yellow-600 transform transition-transform ${h.workType?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.workType&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>y("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${x==="all"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"}`,children:"All Types"}),e.jsx("button",{onClick:()=>y("tracker"),className:`px-4 py-2 rounded-lg font-medium transition-all ${x==="tracker"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"}`,children:"Tracker"}),e.jsx("button",{onClick:()=>y("manual"),className:`px-4 py-2 rounded-lg font-medium transition-all ${x==="manual"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"}`,children:"Manual Time"}),e.jsx("button",{onClick:()=>y("test_task"),className:`px-4 py-2 rounded-lg font-medium transition-all ${x==="test_task"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"}`,children:"Test Task"}),e.jsx("button",{onClick:()=>y("fixed"),className:`px-4 py-2 rounded-lg font-medium transition-all ${x==="fixed"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"}`,children:"Fixed Project"}),e.jsx("button",{onClick:()=>y("office_work"),className:`px-4 py-2 rounded-lg font-medium transition-all ${x==="office_work"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"}`,children:"Office Work"}),e.jsx("button",{onClick:()=>y("outside_of_upwork"),className:`px-4 py-2 rounded-lg font-medium transition-all ${x==="outside_of_upwork"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"}`,children:"Outside of Upwork"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("button",{onClick:()=>S("tracker"),className:"w-full flex items-center justify-between p-4 text-left focus:outline-none",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800",children:"Filter by Tracker"}),e.jsx("svg",{className:`w-5 h-5 text-blue-600 transform transition-transform ${h.tracker?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.tracker&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search trackers...",className:"w-full px-4 py-2 pl-10 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:T,onChange:t=>D(t.target.value)}),e.jsx("svg",{className:"w-4 h-4 text-blue-500 absolute left-3 top-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),T&&e.jsxs("div",{className:"text-xs text-blue-600",children:[Q().filter(t=>t.toLowerCase().includes(T.toLowerCase())).length," tracker(s) found"]}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("button",{onClick:()=>ee("all"),className:`w-full text-left px-3 py-2 rounded-md transition-all ${f==="all"?"bg-blue-100 text-blue-800 font-medium":"hover:bg-blue-50 text-blue-700"}`,children:"All Trackers"}),Q().filter(t=>t.toLowerCase().includes(T.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>ee(t),className:`w-full text-left px-3 py-2 rounded-md transition-all capitalize ${f===t?"bg-blue-100 text-blue-800 font-medium":"hover:bg-blue-50 text-blue-700"}`,children:t},t))]})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:[e.jsxs("button",{onClick:()=>S("project"),className:"w-full flex items-center justify-between p-4 text-left focus:outline-none",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-800",children:"Filter by Project"}),e.jsx("svg",{className:`w-5 h-5 text-purple-600 transform transition-transform ${h.project?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.project&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search projects...",className:"w-full px-4 py-2 pl-10 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:M,onChange:t=>W(t.target.value)}),e.jsx("svg",{className:"w-4 h-4 text-purple-500 absolute left-3 top-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),M&&e.jsxs("div",{className:"text-xs text-purple-600",children:[X().filter(t=>t.toLowerCase().includes(M.toLowerCase())).length," project(s) found"]}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("button",{onClick:()=>te("all"),className:`w-full text-left px-3 py-2 rounded-md transition-all ${m==="all"?"bg-purple-100 text-purple-800 font-medium":"hover:bg-purple-50 text-purple-700"}`,children:"All Projects"}),X().filter(t=>t.toLowerCase().includes(M.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>te(t),className:`w-full text-left px-3 py-2 rounded-md transition-all ${m===t?"bg-purple-100 text-purple-800 font-medium":"hover:bg-purple-50 text-purple-700"}`,title:t,children:t},t))]})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg border border-teal-200",children:[e.jsxs("button",{onClick:()=>S("client"),className:"w-full flex items-center justify-between p-4 text-left focus:outline-none",children:[e.jsx("h3",{className:"text-sm font-semibold text-teal-800",children:"Filter by Client"}),e.jsx("svg",{className:`w-5 h-5 text-teal-600 transform transition-transform ${h.client?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.client&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search clients...",className:"w-full px-4 py-2 pl-10 border border-teal-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:$,onChange:t=>F(t.target.value)}),e.jsx("svg",{className:"w-4 h-4 text-teal-500 absolute left-3 top-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),$&&e.jsxs("div",{className:"text-xs text-teal-600",children:[Z().filter(t=>t.toLowerCase().includes($.toLowerCase())).length," client(s) found"]}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("button",{onClick:()=>re("all"),className:`w-full text-left px-3 py-2 rounded-md transition-all ${u==="all"?"bg-teal-100 text-teal-800 font-medium":"hover:bg-teal-50 text-teal-700"}`,children:"All Clients"}),Z().filter(t=>t.toLowerCase().includes($.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>re(t),className:`w-full text-left px-3 py-2 rounded-md transition-all ${u===t?"bg-teal-100 text-teal-800 font-medium":"hover:bg-teal-50 text-teal-700"}`,title:t,children:t},t))]})})]})})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-xl sm:rounded-xl border border-gray-200",children:e.jsx("div",{className:"p-8 text-gray-900",children:e.jsx("div",{className:"overflow-x-auto shadow-xl ring-1 ring-black ring-opacity-5 rounded-xl",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-green-600 to-green-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"ID"}),((oe=d.user)==null?void 0:oe.role)==="admin"&&e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Work Type"}),e.jsx("th",{className:"w-24 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Tracker"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"w-36 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"w-20 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Hours"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider sticky right-0 bg-gradient-to-r from-green-600 to-green-700",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:((se=d.user)==null?void 0:se.role)==="admin"?10:9,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No work hours found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No work hours match your current filter criteria."}),e.jsxs(z,{href:route("work-hours.create"),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-medium transition-all",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add First Entry"]})]})})}):a.map((t,o)=>{var n,s,g,l,k,A,ne,ae,ie,de,ce,xe,me;return e.jsxs("tr",{className:`${o%2===0?"bg-white":"bg-gray-50"} hover:bg-green-50 transition-colors`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-800",children:t.id}),((n=d.user)==null?void 0:n.role)==="admin"&&e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 truncate font-medium",title:(s=t.user)==null?void 0:s.name,children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:(g=t.user)==null?void 0:g.name})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 truncate",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:P(t.work_type)})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 capitalize truncate font-medium",children:t.tracker}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:t.date}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 truncate font-medium",title:(l=t.project)==null?void 0:l.name,children:(k=t.project)==null?void 0:k.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 truncate",title:(ne=(A=t.project)==null?void 0:A.client)==null?void 0:ne.name,children:(ie=(ae=t.project)==null?void 0:ae.client)==null?void 0:ie.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-700",children:ge(t.hours)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-xs truncate",title:t.description,children:t.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 sticky right-0 bg-white",children:e.jsxs("div",{className:"flex space-x-2",children:[(((de=d.user)==null?void 0:de.role)==="admin"||t.user_id===((ce=d.user)==null?void 0:ce.id))&&e.jsxs(e.Fragment,{children:[e.jsx(z,{href:route("work-hours.edit",t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-xs font-medium rounded-md transition-all",children:"Edit"}),e.jsx("button",{onClick:()=>Ce(t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white text-xs font-medium rounded-md transition-all",children:"Delete"})]}),((xe=d.user)==null?void 0:xe.role)==="employee"&&t.user_id!==((me=d.user)==null?void 0:me.id)&&e.jsx("span",{className:"text-xs text-gray-500 italic",children:"View Only"})]})})]},t.id)})}),a.length>0&&e.jsx("tfoot",{className:"bg-gradient-to-r from-gray-50 to-green-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:((le=d.user)==null?void 0:le.role)==="admin"?7:6,className:"px-6 py-4"}),e.jsxs("td",{className:"px-6 py-4 font-bold text-right text-green-800 text-lg",children:["Total: ",ge(a.reduce((t,o)=>t+Number(o.hours||0),0).toFixed(2))]}),e.jsx("td",{className:"px-6 py-4"}),e.jsx("td",{className:"w-32 px-6 py-4 sticky right-0 bg-gradient-to-r from-gray-50 to-green-50"})]})})]})})})})]})})]})}export{Ie as default};
