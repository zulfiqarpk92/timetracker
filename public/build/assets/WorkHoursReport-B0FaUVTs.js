import{r as n,j as e,S as Ye,A as W,x as Xe}from"./app-CMY5baVu.js";import{D as ve,t as ye,u as q,w as Ge}from"./helpers-BXGBqcCB.js";import{A as Je}from"./AuthenticatedLayout--urmt9dT.js";import{A as Ke}from"./AnimatedBackground-ChXVH9Wt.js";import{T as Qe}from"./Pagination-vO1tju8Z.js";import"./ApplicationLogo-BAX2TYHh.js";import"./Avatar-BIfn-0I-.js";import"./transition-TVMOmnSk.js";function Ze({message:d,onClose:l}){return d?e.jsxs("div",{className:"fixed top-5 right-5 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center backdrop-blur-xl border border-white/20",children:[e.jsx("span",{className:"font-medium",children:d}),e.jsx("button",{onClick:l,className:"ml-4 text-white hover:text-blue-200 font-bold text-lg transition-colors",children:"×"})]}):null}function ke({currentPage:d,totalPages:l,onPageChange:p}){return l<=1?null:e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/10",children:[e.jsx("button",{onClick:()=>p(Math.max(1,d-1)),disabled:d===1,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"← Prev"}),e.jsxs("span",{className:"text-xs text-white/70",children:["Page ",d," of ",l]}),e.jsx("button",{onClick:()=>p(Math.min(l,d+1)),disabled:d===l,className:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Next →"})]})}const A=d=>{const l=d.getFullYear(),p=String(d.getMonth()+1).padStart(2,"0"),f=String(d.getDate()).padStart(2,"0");return`${l}-${p}-${f}`},Y=d=>{const l=new Date;let p,f;if(d==="today")p=f=A(l);else if(d==="week"){const C=l.getDay(),S=C===0?6:C-1,v=new Date(l);v.setDate(v.getDate()-S);const T=new Date(v);T.setDate(T.getDate()+6),p=A(v),f=A(T)}else if(d==="month"){const C=new Date(l.getFullYear(),l.getMonth(),1),S=new Date(l.getFullYear(),l.getMonth()+1,0);p=A(C),f=A(S)}return{start:p,end:f}};function it({auth:d,workHours:l,users:p=[],flash:f,filter:C="all",startDate:S="",endDate:v="",workType:T="all",userId:Ce="all",designation:Se="all",tracker:De="all",client:Te="all",perPage:Ae=15}){var we,fe,je,Ne;const[_,$]=n.useState(null),[$e,y]=n.useState((f==null?void 0:f.success)||""),[s,X]=n.useState(C),[i,G]=n.useState(T),[c,J]=n.useState(Ce),[h,K]=n.useState(Se),[m,Q]=n.useState(De),[x,Z]=n.useState(Te),[b,H]=n.useState(S?new Date(S):null),[g,ee]=n.useState(v?new Date(v):null),[U,te]=n.useState(""),[F,Fe]=n.useState(!1),[re,le]=n.useState(""),[se,ae]=n.useState(""),[I,oe]=n.useState(""),[E,Pe]=n.useState(Ae),[O,ie]=n.useState(!1),[ne,de]=n.useState(1),[ce,xe]=n.useState(1),P=10,R=t=>({tracker:"Tracker",manual:"Manual Time",test_task:"Test Task",fixed:"Fixed Project",office_work:"Office Work",outside_of_upwork:"Outside of Upwork"})[t]||t,Me=()=>{var r;return[...new Set(((r=l==null?void 0:l.data)==null?void 0:r.map(o=>{var a;return(a=o.user)==null?void 0:a.designation}).filter(Boolean))||[])].sort()},Le=()=>{var r;return[...new Set(((r=l==null?void 0:l.data)==null?void 0:r.map(o=>o.tracker).filter(Boolean))||[])].sort()},We=()=>{var r;return[...new Set(((r=l==null?void 0:l.data)==null?void 0:r.map(o=>{var a;return(a=o.client)==null?void 0:a.name}).filter(Boolean))||[])].sort()},_e=t=>{if(!t&&t!==0)return"";const r=Math.round(Number(t)*3600),o=Math.floor(r/3600),a=Math.floor(r%3600/60),N=r%60;return[o,a,N].map(D=>String(D).padStart(2,"0")).join(":")},Ue=async()=>{if(!O){ie(!0),y("Preparing export data...");try{const t={filter:s};if(s==="custom")b&&g&&(t.startDate=b.toISOString().slice(0,10),t.endDate=g.toISOString().slice(0,10));else if(s!=="all"){const{start:j,end:L}=Y(s);t.startDate=j,t.endDate=L}i&&i!=="all"&&(t.workType=i),c&&c!=="all"&&(t.userId=c),h&&h!=="all"&&(t.designation=h),m&&m!=="all"&&(t.tracker=m),x&&x!=="all"&&(t.client=x);const r=new URLSearchParams(t).toString(),o=`${route("work-hours.export")}?${r}`,a=await fetch(o,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("Failed to fetch export data");const u=(await a.json()).data.map(j=>{var L;return{User:j.user.name,Designation:j.user.designation||"N/A","Work Type":R(j.work_type),Tracker:j.tracker,Date:j.date,Client:((L=j.client)==null?void 0:L.name)||"No Client",Hours:_e(j.hours),Description:j.description}}),V=q.json_to_sheet(u),M=q.book_new();q.book_append_sheet(M,V,"WorkHours"),Ge(M,"work_hours_report.csv",{bookType:"csv"}),y(`Successfully exported ${u.length} entries to CSV`)}catch(t){console.error("Export error:",t),y("Failed to export data. Please try again.")}finally{ie(!1)}}},Ie=t=>{$(t)},Ee=()=>{_&&W.delete(route("work-hours.destroy",_),{onSuccess:()=>{y("Entry deleted successfully."),$(null)},onError:()=>{y("Failed to delete entry."),$(null)}})},Oe=()=>y(""),he=t=>{J(t),te(""),w(s,i,t)},B=p.filter(t=>t.name.toLowerCase().includes(U.toLowerCase())),ue=(t,r,o)=>{const a=(r-1)*o,N=a+o;return t.slice(a,N)},pe=(t,r)=>Math.ceil(t/r),Re=ue(B,ne,P),Be=pe(B.length,P),z=We().filter(t=>t.toLowerCase().includes(I.toLowerCase())),ze=ue(z,ce,P),Ve=pe(z.length,P),w=(t,r=i,o=c,a=h,N=m,D=x)=>{X(t);const u={filter:t,perPage:E};if(t==="custom")b&&g&&(u.startDate=b.toISOString().slice(0,10),u.endDate=g.toISOString().slice(0,10));else if(t!=="all"){const{start:V,end:M}=Y(t);u.startDate=V,u.endDate=M}r&&r!=="all"&&(u.workType=r),o&&o!=="all"&&(u.userId=o),a&&a!=="all"&&(u.designation=a),N&&N!=="all"&&(u.tracker=N),D&&D!=="all"&&(u.client=D),W.get(route("work-hours.report"),u,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},k=t=>{G(t),w(s,t)},me=t=>{K(t),le(""),w(s,i,c,t)},be=t=>{Q(t),ae(""),w(s,i,c,h,t)},ge=t=>{Z(t),oe(""),w(s,i,c,h,m,t)},qe=t=>{Pe(t);const r={filter:s,perPage:t};if(s==="custom"&&b&&g)r.startDate=b.toISOString().slice(0,10),r.endDate=g.toISOString().slice(0,10);else if(s!=="all"){const{start:o,end:a}=Y(s);r.startDate=o,r.endDate=a}i!=="all"&&(r.workType=i),c!=="all"&&(r.userId=c),h!=="all"&&(r.designation=h),m!=="all"&&(r.tracker=m),x!=="all"&&(r.client=x),W.get(route("work-hours.report"),r,{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})};return e.jsxs(Je,{user:d.user,header:e.jsx("h2",{className:"font-semibold text-xl text-white leading-tight",children:"Work Hours Report"}),children:[e.jsx(Ye,{title:"Work Hours Report"}),e.jsx(Ke,{}),e.jsx("div",{id:"date-picker-portal"}),e.jsx(Ze,{message:$e,onClose:Oe}),_&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Confirm Delete"}),e.jsx("p",{className:"mb-6 text-gray-200",children:"Are you sure you want to delete this entry?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>$(null),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all backdrop-blur-xl border border-white/20",children:"Cancel"}),e.jsx("button",{onClick:Ee,className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-medium transition-all shadow-lg",children:"Delete"})]})]})}),e.jsx("div",{className:"py-12 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-xl shadow-2xl sm:rounded-2xl border border-white/20",children:e.jsxs("div",{className:"p-8 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Work Hours Report"}),e.jsx("p",{className:"text-gray-300 mt-2",children:"Comprehensive analysis of work hours and productivity"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-white/70 text-sm font-medium",children:"Show:"}),e.jsxs("select",{value:E,onChange:t=>qe(parseInt(t.target.value)),className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white text-sm",children:[e.jsx("option",{value:15,className:"bg-slate-800 text-white",children:"15"}),e.jsx("option",{value:25,className:"bg-slate-800 text-white",children:"25"}),e.jsx("option",{value:50,className:"bg-slate-800 text-white",children:"50"}),e.jsx("option",{value:100,className:"bg-slate-800 text-white",children:"100"})]}),e.jsx("span",{className:"text-white/70 text-sm",children:"entries"})]}),e.jsx("button",{onClick:Ue,disabled:O,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:from-gray-500 disabled:to-gray-600 disabled:cursor-not-allowed text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl",children:O?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to CSV"]})})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Date Range"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${s==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Dates"}),e.jsx("button",{onClick:()=>w("today"),className:`px-4 py-2 rounded-xl font-medium transition-all ${s==="today"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Today"}),e.jsx("button",{onClick:()=>w("week"),className:`px-4 py-2 rounded-xl font-medium transition-all ${s==="week"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Week"}),e.jsx("button",{onClick:()=>w("month"),className:`px-4 py-2 rounded-xl font-medium transition-all ${s==="month"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"This Month"}),e.jsx("button",{onClick:()=>w("custom"),className:`px-4 py-2 rounded-xl font-medium transition-all ${s==="custom"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Custom Range"})]}),s==="custom"&&e.jsxs("div",{className:"flex gap-3 items-center mt-4 p-3 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:[e.jsx("span",{className:"text-white font-medium",children:"From:"}),e.jsx(ve,{selected:b,onChange:t=>H(t),dateFormat:"yyyy-MM-dd",maxDate:g||new Date,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",calendarClassName:"bg-slate-800 border border-white/20 rounded-xl shadow-2xl",dayClassName:t=>"text-white hover:bg-blue-500/50 hover:text-white rounded-lg transition-colors",weekDayClassName:t=>"text-gray-300 text-sm font-medium",monthClassName:t=>"text-white hover:bg-blue-500/50 rounded-lg transition-colors",timeClassName:t=>"text-white",popperClassName:"z-50",popperPlacement:"bottom-start",showPopperArrow:!1,placeholderText:"Select start date",isClearable:!0,withPortal:!0,portalId:"date-picker-portal"}),e.jsx("span",{className:"text-white font-medium",children:"To:"}),e.jsx(ve,{selected:g,onChange:t=>ee(t),dateFormat:"yyyy-MM-dd",minDate:b||void 0,maxDate:new Date,className:"px-3 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",calendarClassName:"bg-slate-800 border border-white/20 rounded-xl shadow-2xl",dayClassName:t=>"text-white hover:bg-blue-500/50 hover:text-white rounded-lg transition-colors",weekDayClassName:t=>"text-gray-300 text-sm font-medium",monthClassName:t=>"text-white hover:bg-blue-500/50 rounded-lg transition-colors",timeClassName:t=>"text-white",popperClassName:"z-50",popperPlacement:"bottom-start",showPopperArrow:!1,placeholderText:"Select end date",isClearable:!0,withPortal:!0,portalId:"date-picker-portal"}),e.jsx("button",{onClick:()=>w("custom"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-600 transition-all disabled:opacity-50",disabled:!b||!g,children:"Apply"})]})]}),(s!=="all"||i!=="all"||c!=="all"||h!=="all"||m!=="all"||x!=="all")&&e.jsxs("div",{className:"lg:col-span-1 bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Active Filters"}),e.jsxs("button",{onClick:()=>{X("all"),G("all"),J("all"),K("all"),Q("all"),Z("all"),H(null),ee(null),W.get(route("work-hours.report"),{perPage:E},{preserveState:!0,preserveScroll:!0,only:["workHours","flash"]})},className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-red-500/80 to-red-600/80 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-medium transition-all text-xs backdrop-blur-xl",title:"Clear all filters",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All"]})]}),e.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[s!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Date:"}),e.jsx("span",{children:s==="custom"?`${b==null?void 0:b.toLocaleDateString()} - ${g==null?void 0:g.toLocaleDateString()}`:s})]}),i!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-purple-500/20 text-purple-300 rounded-lg backdrop-blur-xl border border-purple-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Type:"}),e.jsx("span",{children:R(i)})]}),c!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-green-500/20 text-green-300 rounded-lg backdrop-blur-xl border border-green-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"User:"}),e.jsx("span",{children:((we=p.find(t=>t.id==c))==null?void 0:we.name)||"Unknown"})]}),h!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-indigo-500/20 text-indigo-300 rounded-lg backdrop-blur-xl border border-indigo-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Role:"}),e.jsx("span",{children:h})]}),m!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg backdrop-blur-xl border border-yellow-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Tracker:"}),e.jsx("span",{children:m})]}),x!=="all"&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-teal-500/20 text-teal-300 rounded-lg backdrop-blur-xl border border-teal-400/20 text-xs",children:[e.jsx("span",{className:"font-medium mr-1",children:"Client:"}),e.jsx("span",{title:x,children:x.length>12?`${x.substring(0,12)}...`:x})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>Fe(!F),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-xl",children:[e.jsx("svg",{className:`w-5 h-5 mr-2 transition-transform ${F?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),F?"Hide Advanced Filters":"Show Advanced Filters"]})}),F&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Work Type"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>k("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"All Types"}),e.jsx("button",{onClick:()=>k("tracker"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="tracker"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Tracker"}),e.jsx("button",{onClick:()=>k("manual"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="manual"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Manual Time"}),e.jsx("button",{onClick:()=>k("test_task"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="test_task"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Test Task"}),e.jsx("button",{onClick:()=>k("fixed"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="fixed"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Fixed Project"}),e.jsx("button",{onClick:()=>k("office_work"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="office_work"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Office Work"}),e.jsx("button",{onClick:()=>k("outside_of_upwork"),className:`px-4 py-2 rounded-xl font-medium transition-all ${i==="outside_of_upwork"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:"Outside of Upwork"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by User"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:U,onChange:t=>{te(t.target.value),de(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>he("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${c==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Users"}),Re.map(t=>e.jsx("button",{onClick:()=>he(t.id),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${c==t.id?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t.name,children:t.name},t.id)),B.length===0&&U&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No users found"})]}),e.jsx(ke,{currentPage:ne,totalPages:Be,onPageChange:de})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Designation"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search designations...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:re,onChange:t=>le(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>me("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${h==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Designations"}),Me().filter(t=>t.toLowerCase().includes(re.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>me(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${h===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Tracker"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search trackers...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:se,onChange:t=>ae(t.target.value)})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>be("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${m==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Trackers"}),Le().filter(t=>t.toLowerCase().includes(se.toLowerCase())).map(t=>e.jsx("button",{onClick:()=>be(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm capitalize ${m===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t))]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl p-4 rounded-xl border border-white/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Filter by Client"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search clients...",className:"w-full px-3 py-2 text-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-300",value:I,onChange:t=>{oe(t.target.value),xe(1)}})}),e.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.jsx("button",{onClick:()=>ge("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${x==="all"?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,children:"All Clients"}),ze.map(t=>e.jsx("button",{onClick:()=>ge(t),className:`w-full text-left px-3 py-2 rounded-lg transition-all text-sm ${x===t?"bg-white/20 text-blue-300 font-medium":"hover:bg-white/10 text-white"}`,title:t,children:t},t)),z.length===0&&I&&e.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No clients found"})]}),e.jsx(ke,{currentPage:ce,totalPages:Ve,onPageChange:xe})]})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto shadow-2xl ring-1 ring-white/20 rounded-2xl",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/20 table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Designation"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Work Type"}),e.jsx("th",{className:"w-24 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Tracker"}),e.jsx("th",{className:"w-28 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"w-20 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Hours"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"w-32 px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider sticky right-0 bg-gradient-to-r from-blue-600/80 to-purple-600/80 backdrop-blur-xl border-l border-white/10",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white/5 divide-y divide-white/10 backdrop-blur-xl",children:(fe=l==null?void 0:l.data)!=null&&fe.length?l.data.map((t,r)=>{var o,a;return e.jsxs("tr",{className:`${r%2===0?"bg-white/5":"bg-white/10"} hover:bg-white/20 transition-colors backdrop-blur-xl`,children:[e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate font-medium",children:t.user.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 truncate",children:t.user.designation||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-white truncate",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-500/20 text-blue-300 rounded-lg backdrop-blur-xl border border-blue-400/20",children:R(t.work_type)})}),e.jsx("td",{className:"px-6 py-4 text-sm text-white capitalize truncate font-medium",children:t.tracker}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:t.date}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 truncate",title:((o=t.client)==null?void 0:o.name)||"No Client",children:((a=t.client)==null?void 0:a.name)||"No Client"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-400",children:ye(t.hours)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 relative group",children:e.jsx("div",{className:"max-w-xs truncate",children:t.description&&t.description.length>50?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"truncate block",children:[t.description.substring(0,50),"..."]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.description),y("Description copied to clipboard!")},className:"mt-1 text-xs bg-white/10 hover:bg-white/20 text-white/80 px-2 py-1 rounded transition-all",title:"Copy full description",children:"Copy Full Text"})]}):e.jsx("span",{className:"block",children:t.description})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10 shadow-lg",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Xe,{href:route("work-hours.edit",t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Edit"}),e.jsx("button",{onClick:()=>Ie(t.id),className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white text-xs font-medium rounded-lg transition-all backdrop-blur-xl",children:"Delete"})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-white/60",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-white/40 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No work hour entries found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or date range"})]})})})}),e.jsx("tfoot",{className:"bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-t border-white/20",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:6,className:"px-6 py-4"}),e.jsxs("td",{className:"px-6 py-4 font-bold text-right text-blue-300 text-lg",children:["Total: ",ye(((je=l==null?void 0:l.data)==null?void 0:je.reduce((t,r)=>t+Number(r.hours||0),0).toFixed(2))||0)]}),e.jsx("td",{className:"px-6 py-4"}),e.jsx("td",{className:"w-32 px-6 py-4 sticky right-0 bg-gradient-to-r from-slate-800/95 to-slate-900/95 backdrop-blur-xl border-l border-white/10"})]})})]})}),((Ne=l==null?void 0:l.data)==null?void 0:Ne.length)>0&&e.jsx("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20",children:e.jsx(Qe,{pagination:l,className:"justify-between items-center",preserveState:!0,preserveScroll:!1})})]})})})})]})}export{it as default};
