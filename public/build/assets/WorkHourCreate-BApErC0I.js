import{G as S,R as c,j as e,S as _,x as D}from"./app-Ddwxqofy.js";import{A as C}from"./AuthenticatedLayout-CTZTZuFJ.js";import{A as T}from"./AnimatedBackground-BBU1OLY5.js";import"./ApplicationLogo-3LeIIhXn.js";import"./Avatar-DJTmNILM.js";import"./transition-CkLA98mN.js";function H({auth:p,trackers:m=[],projects:u=[]}){var x;const t=S({date:new Date().toISOString().split("T")[0],hours:"0",minutes:"0",description:"",work_type:"tracker",project_id:"",tracker:"",trackerSearch:"",projectSearch:""}),[b,l]=c.useState(!1),[f,i]=c.useState(!1),w=c.useRef(null),k=c.useRef(null),g=r=>{r.preventDefault(),t.post(route("work-hours.store"))},h=[{label:"Tracker",value:"tracker"},{label:"Manual Time",value:"manual"},{label:"Fixed Project",value:"fixed"},{label:"Outside of Upwork",value:"outside_of_upwork"},{label:"Office Work",value:"office_work"},{label:"Test Task",value:"test_task"}],j=()=>{l(!0),i(!1)},N=()=>{i(!0),l(!1)},v=r=>{const s={work_type:r,date:t.data.date,hours:t.data.hours,minutes:t.data.minutes,description:t.data.description};["tracker","manual","fixed"].includes(r)?(s.tracker=t.data.tracker,s.trackerSearch=t.data.trackerSearch):(s.tracker="",s.trackerSearch=""),["tracker","manual","fixed","outside_of_upwork"].includes(r)?(s.project_id=t.data.project_id,s.projectSearch=t.data.projectSearch):(s.project_id="",s.projectSearch=""),t.setData(s)},o=()=>["tracker","manual","fixed"].includes(t.data.work_type),n=()=>["tracker","manual","fixed","outside_of_upwork"].includes(t.data.work_type);return e.jsxs(C,{user:p.user,header:e.jsx("h2",{className:"font-semibold text-xl text-slate-100 leading-tight",children:"Add Work Entry"}),children:[e.jsx(_,{title:"Add Work Entry"}),e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",style:{background:"#282a2a"},children:e.jsx(T,{})}),e.jsx("div",{className:"py-12 min-h-screen relative z-10",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl overflow-hidden shadow-2xl rounded-2xl border border-white/10",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Add Work Entry"}),e.jsx("p",{className:"text-white/70 text-lg",children:"Track your work hours and productivity"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 backdrop-blur-xl p-6 rounded-xl border border-white/20",children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-4",children:"Work Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:h.map(r=>e.jsx("button",{type:"button",onClick:()=>v(r.value),className:`px-4 py-3 rounded-xl font-medium transition-all text-sm ${t.data.work_type===r.value?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-xl"}`,children:r.label},r.value))}),t.errors.work_type&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:t.errors.work_type}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-500/10 backdrop-blur-xl rounded-lg border border-blue-400/20",children:[e.jsxs("p",{className:"text-blue-200 text-sm font-medium mb-1",children:["Required fields for ",(x=h.find(r=>r.value===t.data.work_type))==null?void 0:x.label,":"]}),e.jsxs("div",{className:"text-blue-300 text-xs",children:[t.data.work_type==="tracker"&&"Profile Name, Project Name, Description, Hours/Minutes, Tracking Date",t.data.work_type==="manual"&&"Profile Name, Project Name, Description, Hours/Minutes, Tracking Date",t.data.work_type==="fixed"&&"Profile Name, Project Name, Description, Hours/Minutes, Tracking Date",t.data.work_type==="outside_of_upwork"&&"Project Name, Description, Hours/Minutes, Tracking Date",t.data.work_type==="office_work"&&"Description, Hours/Minutes, Tracking Date",t.data.work_type==="test_task"&&"Description, Hours/Minutes, Tracking Date"]})]})]}),e.jsxs("div",{className:`grid grid-cols-1 gap-6 ${o()?"md:grid-cols-2":n()?"md:grid-cols-1":"md:grid-cols-2"}`,children:[["tracker","manual","fixed"].includes(t.data.work_type)&&e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-semibold text-white/90 mb-3",children:["Profile Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{ref:w,type:"text",placeholder:"Search or select profile...",className:"w-full px-4 py-3 bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-white placeholder-white/50",value:t.data.trackerSearch||t.data.tracker||"",onChange:r=>{const s=r.target.value;t.setData("trackerSearch",s),s===""&&t.setData("tracker",""),l(!0)},onFocus:j,onBlur:()=>setTimeout(()=>l(!1),150),required:o()}),b&&e.jsxs("div",{className:"absolute z-[99999] bg-slate-800/95 backdrop-blur-xl border border-white/30 rounded-xl mt-1 max-h-40 overflow-y-auto shadow-2xl w-full",children:[m.filter(r=>!t.data.trackerSearch||r.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).map(r=>e.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/20 text-white transition-colors",onMouseDown:()=>{t.setData("tracker",r),t.setData("trackerSearch",r),l(!1)},children:r},r)),m.filter(r=>!t.data.trackerSearch||r.toLowerCase().includes(t.data.trackerSearch.toLowerCase())).length===0&&e.jsx("div",{className:"px-4 py-2 text-white/60",children:"No profiles found"})]}),t.errors.tracker&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:t.errors.tracker})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-white/90 mb-3",children:["Tracking Date ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"date",value:t.data.date,onChange:r=>t.setData("date",r.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-white",required:!0}),t.errors.date&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:t.errors.date})]}),["tracker","manual","fixed","outside_of_upwork"].includes(t.data.work_type)&&e.jsxs("div",{className:`relative ${o()?"md:col-span-2":"md:col-span-1"}`,children:[e.jsxs("label",{className:"block text-sm font-semibold text-white/90 mb-3",children:["Project Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{ref:k,type:"text",placeholder:"Search or select project...",className:"w-full px-4 py-3 bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-white placeholder-white/50",value:t.data.projectSearch||(t.data.project_id?(()=>{var d;const r=u.find(y=>y.id==t.data.project_id);if(!r)return"";const s=((d=r.client)==null?void 0:d.name)||"No Client",a=r.name||"";return`${s}${a?" -- "+a:""}`})():""),onChange:r=>{const s=r.target.value;t.setData("projectSearch",s),s===""&&t.setData("project_id",""),i(!0)},onFocus:N,onBlur:()=>setTimeout(()=>i(!1),150),required:n()}),f&&e.jsxs("div",{className:"absolute z-[99999] bg-slate-800/95 backdrop-blur-xl border border-white/30 rounded-xl mt-1 max-h-40 overflow-y-auto shadow-2xl w-full",children:[u.filter(r=>{var a;const s=`${((a=r.client)==null?void 0:a.name)??"No Client"} -- ${r.name}`;return!t.data.projectSearch||s.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).map(r=>{var s;return e.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/20 text-white transition-colors",onMouseDown:()=>{var a;t.setData("project_id",r.id),t.setData("projectSearch",`${((a=r.client)==null?void 0:a.name)??"No Client"} -- ${r.name}`),i(!1)},children:[((s=r.client)==null?void 0:s.name)??"No Client"," -- ",r.name]},r.id)}),u.filter(r=>{var a;const s=`${((a=r.client)==null?void 0:a.name)??"No Client"} -- ${r.name}`;return!t.data.projectSearch||s.toLowerCase().includes(t.data.projectSearch.toLowerCase())}).length===0&&e.jsx("div",{className:"px-4 py-2 text-white/60",children:"No projects found"})]}),t.errors.project_id&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:t.errors.project_id})]}),e.jsxs("div",{className:o()||n()?"":"md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-semibold text-white/90 mb-3",children:["Hours ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"24",placeholder:"0",value:t.data.hours||"0",onChange:r=>{let s=r.target.value,a=parseInt(s.replace(/[^0-9]/g,""));isNaN(a)?a="0":a>24?a=24:a<0&&(a=0),t.setData("hours",a===""?"0":a.toString())},onWheel:r=>r.target.blur(),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-white placeholder-white/50",required:!0})]}),e.jsxs("div",{className:o()||n()?"":"md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-semibold text-white/90 mb-3",children:["Minutes ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"number",min:"0",max:"59",placeholder:"0",value:t.data.minutes||"0",onChange:r=>{let s=r.target.value,a=parseInt(s.replace(/[^0-9]/g,""));isNaN(a)?a="":a>59?a=59:a<0&&(a=0),t.setData("minutes",a===""?"":a.toString())},onWheel:r=>r.target.blur(),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-white placeholder-white/50",required:!0})]}),e.jsx("div",{className:`p-6 bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-xl rounded-xl border border-white/20 ${o()?"md:col-span-2":n()?"md:col-span-1":"md:col-span-2"}`,children:e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Total Time: ",(()=>{const r=parseInt(t.data.hours||0,10),s=parseInt(t.data.minutes||0,10),a=d=>d.toString().padStart(2,"0");return isNaN(r)&&isNaN(s)?"00:00":isNaN(r)?`00:${a(s)}`:isNaN(s)?`${a(r)}:00`:`${a(r)}:${a(s)}`})()]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-white/90 mb-3",children:["Description ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{placeholder:"Add any notes about this time entry...",value:t.data.description,onChange:r=>t.setData("description",r.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all min-h-[120px] text-white placeholder-white/50",required:!0}),t.errors.description&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:t.errors.description})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsxs("button",{type:"submit",disabled:t.processing,className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl disabled:opacity-50 backdrop-blur-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t.processing?"Submitting...":"Submit Time Entry"]}),e.jsxs("button",{type:"button",onClick:()=>t.reset(),className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all border border-white/20 backdrop-blur-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Form"]}),e.jsxs(D,{href:route("work-hours.index"),className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]})]})]})]})})})})]})}export{H as default};
